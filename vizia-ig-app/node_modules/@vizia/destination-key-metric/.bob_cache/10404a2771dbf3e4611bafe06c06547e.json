{"remainingRequest":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/get-intl-options.js","dependencies":[{"path":"/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/get-intl-options.js","mtime":1664781785127},{"path":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKY29uc3QgaW50bE51bWJlckZvcm1hdFVuaXRzID0gcmVxdWlyZSgnLi9pbnRsLW51bWJlci1mb3JtYXQtdW5pdHMnKTsKY29uc3Qgc2hvdWxkQWJiciA9ICh2YWx1ZSwgX3JlZikgPT4gewogIGxldCB7CiAgICBhYmJyVGhyZXNob2xkLAogICAgYWJicgogIH0gPSBfcmVmOwogIHJldHVybiBhYmJyICYmIE1hdGguYWJzKHZhbHVlKSA+PSBhYmJyVGhyZXNob2xkOwp9OwoKLyoqCiAqIEJ1aWxkIEludGwgTnVtYmVyRm9ybWF0IG9wdGlvbnMgb2JqZWN0LCBiYXNlZCBvbiB2YWx1ZSBhbmQgcHJvcHMKICovCmNvbnN0IGdldEludGxPcHRpb25zID0gKHZhbHVlLCBwcm9wcykgPT4gewogIGNvbnN0IHsKICAgIGZvcm1hdCwKICAgIGN1cnJlbmN5LAogICAgdW5pdERpc3BsYXkKICB9ID0gcHJvcHM7CiAgcmV0dXJuIFsKICAvLyBEZXRlcm1pbmUgYmFzZSBzdHlsZSBvcHRpb25zCiAgKCkgPT4gewogICAgaWYgKFsncGVyY2VudCcsICdjdXJyZW5jeSddLmluY2x1ZGVzKGZvcm1hdCkpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdHlsZTogZm9ybWF0CiAgICAgIH07CiAgICB9IGVsc2UgaWYgKGludGxOdW1iZXJGb3JtYXRVbml0cy5pbmNsdWRlcyhmb3JtYXQpKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3R5bGU6ICd1bml0JywKICAgICAgICB1bml0OiBmb3JtYXQKICAgICAgfTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHN0eWxlOiAnZGVjaW1hbCcKICAgIH07CiAgfSwKICAvLyBVbml0IG9wdGlvbnMKICAoKSA9PiAoewogICAgdW5pdERpc3BsYXksCiAgICBjdXJyZW5jeURpc3BsYXk6ICdzeW1ib2wnLAogICAgY3VycmVuY3kKICB9KSwKICAvLyBHcmFudWxhcml0eSBvcHRpb25zCiAgKHZhbHVlLCBwcm9wcykgPT4gewogICAgY29uc3QgewogICAgICBtYW50aXNzYSwKICAgICAgdHJpbU1hbnRpc3NhCiAgICB9ID0gcHJvcHM7CiAgICBjb25zdCB2YWx1ZUlzUGFzc2VkVGhyZXNob2xkID0gc2hvdWxkQWJicih2YWx1ZSwgcHJvcHMpOwogICAgY29uc3QgbWluaW11bUZyYWN0aW9uRGlnaXRzID0gKCgpID0+IHsKICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0gZWxzZSBpZiAodHJpbU1hbnRpc3NhID09PSBmYWxzZSAmJiAhdmFsdWVJc1Bhc3NlZFRocmVzaG9sZCkgewogICAgICAgIHJldHVybiBtYW50aXNzYTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0pKCk7CiAgICByZXR1cm4gewogICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHMsCiAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogbWFudGlzc2EsCiAgICAgIG5vdGF0aW9uOiB2YWx1ZUlzUGFzc2VkVGhyZXNob2xkID8gJ2NvbXBhY3QnIDogJ3N0YW5kYXJkJwogICAgfTsKICB9XS5yZWR1Y2UoKHJlc3VsdCwgcHJvY2Vzc29yKSA9PiBPYmplY3QuYXNzaWduKHt9LCByZXN1bHQsIHByb2Nlc3Nvcih2YWx1ZSwgcHJvcHMpKSwge30pOwp9Owptb2R1bGUuZXhwb3J0cyA9IGdldEludGxPcHRpb25zOw=="},{"version":3,"names":["intlNumberFormatUnits","require","shouldAbbr","value","abbrThreshold","abbr","Math","abs","getIntlOptions","props","format","currency","unitDisplay","includes","style","unit","currencyDisplay","mantissa","trimMantissa","valueIsPassedThreshold","minimumFractionDigits","Number","isInteger","maximumFractionDigits","notation","reduce","result","processor","Object","assign","module","exports"],"sources":["/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/get-intl-options.js"],"sourcesContent":["'use strict';\n\nconst intlNumberFormatUnits = require('./intl-number-format-units');\n\nconst shouldAbbr = (value, {abbrThreshold, abbr}) => abbr && Math.abs(value) >= abbrThreshold;\n\n/**\n * Build Intl NumberFormat options object, based on value and props\n */\nconst getIntlOptions = (value, props) => {\n    const {format, currency, unitDisplay} = props;\n\n    return [\n        // Determine base style options\n        () => {\n            if (['percent', 'currency'].includes(format)) {\n                return {\n                    style: format\n                };\n            } else if (intlNumberFormatUnits.includes(format)) {\n                return {\n                    style: 'unit',\n                    unit: format\n                };\n            }\n            return {\n                style: 'decimal'\n            };\n        },\n        // Unit options\n        () => ({\n            unitDisplay,\n            currencyDisplay: 'symbol',\n            currency\n        }),\n        // Granularity options\n        (value, props) => {\n            const {mantissa, trimMantissa} = props;\n            const valueIsPassedThreshold = shouldAbbr(value, props);\n            const minimumFractionDigits = (() => {\n                if (Number.isInteger(value)) {\n                    return 0;\n                } else if (trimMantissa === false && !valueIsPassedThreshold) {\n                    return mantissa;\n                }\n                return null;\n            })();\n            return {\n                minimumFractionDigits,\n                maximumFractionDigits: mantissa,\n                notation: valueIsPassedThreshold ? 'compact' : 'standard'\n            };\n        }\n    ]\n        .reduce((result, processor) => Object.assign({}, result, processor(value, props)), {});\n};\n\nmodule.exports = getIntlOptions;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,qBAAqB,GAAGC,OAAO,CAAC,4BAA4B,CAAC;AAEnE,MAAMC,UAAU,GAAG,CAACC,KAAK;EAAA,IAAE;IAACC,aAAa;IAAEC;EAAI,CAAC;EAAA,OAAKA,IAAI,IAAIC,IAAI,CAACC,GAAG,CAACJ,KAAK,CAAC,IAAIC,aAAa;AAAA;;AAE7F;AACA;AACA;AACA,MAAMI,cAAc,GAAG,CAACL,KAAK,EAAEM,KAAK,KAAK;EACrC,MAAM;IAACC,MAAM;IAAEC,QAAQ;IAAEC;EAAW,CAAC,GAAGH,KAAK;EAE7C,OAAO;EACH;EACA,MAAM;IACF,IAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAACI,QAAQ,CAACH,MAAM,CAAC,EAAE;MAC1C,OAAO;QACHI,KAAK,EAAEJ;MACX,CAAC;IACL,CAAC,MAAM,IAAIV,qBAAqB,CAACa,QAAQ,CAACH,MAAM,CAAC,EAAE;MAC/C,OAAO;QACHI,KAAK,EAAE,MAAM;QACbC,IAAI,EAAEL;MACV,CAAC;IACL;IACA,OAAO;MACHI,KAAK,EAAE;IACX,CAAC;EACL,CAAC;EACD;EACA,OAAO;IACHF,WAAW;IACXI,eAAe,EAAE,QAAQ;IACzBL;EACJ,CAAC,CAAC;EACF;EACA,CAACR,KAAK,EAAEM,KAAK,KAAK;IACd,MAAM;MAACQ,QAAQ;MAAEC;IAAY,CAAC,GAAGT,KAAK;IACtC,MAAMU,sBAAsB,GAAGjB,UAAU,CAACC,KAAK,EAAEM,KAAK,CAAC;IACvD,MAAMW,qBAAqB,GAAG,CAAC,MAAM;MACjC,IAAIC,MAAM,CAACC,SAAS,CAACnB,KAAK,CAAC,EAAE;QACzB,OAAO,CAAC;MACZ,CAAC,MAAM,IAAIe,YAAY,KAAK,KAAK,IAAI,CAACC,sBAAsB,EAAE;QAC1D,OAAOF,QAAQ;MACnB;MACA,OAAO,IAAI;IACf,CAAC,GAAG;IACJ,OAAO;MACHG,qBAAqB;MACrBG,qBAAqB,EAAEN,QAAQ;MAC/BO,QAAQ,EAAEL,sBAAsB,GAAG,SAAS,GAAG;IACnD,CAAC;EACL,CAAC,CACJ,CACIM,MAAM,CAAC,CAACC,MAAM,EAAEC,SAAS,KAAKC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEH,MAAM,EAAEC,SAAS,CAACxB,KAAK,EAAEM,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC9F,CAAC;AAEDqB,MAAM,CAACC,OAAO,GAAGvB,cAAc"}]}