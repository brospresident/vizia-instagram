{"remainingRequest":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia-ig-app/node_modules/@formatjs/intl-unified-numberformat/dist/data.js","dependencies":[{"path":"/Users/pantu/work2/vizia-ig-app/node_modules/@formatjs/intl-unified-numberformat/dist/data.js","mtime":1664781786858},{"path":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkgewogIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgewogICAgICBfX3Byb3RvX186IFtdCiAgICB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgZC5fX3Byb3RvX18gPSBiOwogICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewogICAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsKICAgIH07CiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKICB9OwogIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewogICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKICAgIGZ1bmN0aW9uIF9fKCkgewogICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDsKICAgIH0KICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKICB9Owp9KCk7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKdmFyIGludGxfdXRpbHNfMSA9IHJlcXVpcmUoIkBmb3JtYXRqcy9pbnRsLXV0aWxzIik7CmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UsIEVycikgewogIGlmIChFcnIgPT09IHZvaWQgMCkgewogICAgRXJyID0gRXJyb3I7CiAgfQogIGlmICghY29uZGl0aW9uKSB7CiAgICB0aHJvdyBuZXcgRXJyKG1lc3NhZ2UpOwogIH0KfQovLyBUaGlzIGlzIGZyb206IHVuaWNvZGUtMTIuMS4wL0dlbmVyYWxfQ2F0ZWdvcnkvU3ltYm9sL3JlZ2V4LmpzCnZhciBTX1VOSUNPREVfUkVHRVggPSAvW1wkXCs8LT5cXmBcfH5ceEEyLVx4QTZceEE4XHhBOVx4QUNceEFFLVx4QjFceEI0XHhCOFx4RDdceEY3XHUwMkMyLVx1MDJDNVx1MDJEMi1cdTAyREZcdTAyRTUtXHUwMkVCXHUwMkVEXHUwMkVGLVx1MDJGRlx1MDM3NVx1MDM4NFx1MDM4NVx1MDNGNlx1MDQ4Mlx1MDU4RC1cdTA1OEZcdTA2MDYtXHUwNjA4XHUwNjBCXHUwNjBFXHUwNjBGXHUwNkRFXHUwNkU5XHUwNkZEXHUwNkZFXHUwN0Y2XHUwN0ZFXHUwN0ZGXHUwOUYyXHUwOUYzXHUwOUZBXHUwOUZCXHUwQUYxXHUwQjcwXHUwQkYzLVx1MEJGQVx1MEM3Rlx1MEQ0Rlx1MEQ3OVx1MEUzRlx1MEYwMS1cdTBGMDNcdTBGMTNcdTBGMTUtXHUwRjE3XHUwRjFBLVx1MEYxRlx1MEYzNFx1MEYzNlx1MEYzOFx1MEZCRS1cdTBGQzVcdTBGQzctXHUwRkNDXHUwRkNFXHUwRkNGXHUwRkQ1LVx1MEZEOFx1MTA5RVx1MTA5Rlx1MTM5MC1cdTEzOTlcdTE2NkRcdTE3REJcdTE5NDBcdTE5REUtXHUxOUZGXHUxQjYxLVx1MUI2QVx1MUI3NC1cdTFCN0NcdTFGQkRcdTFGQkYtXHUxRkMxXHUxRkNELVx1MUZDRlx1MUZERC1cdTFGREZcdTFGRUQtXHUxRkVGXHUxRkZEXHUxRkZFXHUyMDQ0XHUyMDUyXHUyMDdBLVx1MjA3Q1x1MjA4QS1cdTIwOENcdTIwQTAtXHUyMEJGXHUyMTAwXHUyMTAxXHUyMTAzLVx1MjEwNlx1MjEwOFx1MjEwOVx1MjExNFx1MjExNi1cdTIxMThcdTIxMUUtXHUyMTIzXHUyMTI1XHUyMTI3XHUyMTI5XHUyMTJFXHUyMTNBXHUyMTNCXHUyMTQwLVx1MjE0NFx1MjE0QS1cdTIxNERcdTIxNEZcdTIxOEFcdTIxOEJcdTIxOTAtXHUyMzA3XHUyMzBDLVx1MjMyOFx1MjMyQi1cdTI0MjZcdTI0NDAtXHUyNDRBXHUyNDlDLVx1MjRFOVx1MjUwMC1cdTI3NjdcdTI3OTQtXHUyN0M0XHUyN0M3LVx1MjdFNVx1MjdGMC1cdTI5ODJcdTI5OTktXHUyOUQ3XHUyOURDLVx1MjlGQlx1MjlGRS1cdTJCNzNcdTJCNzYtXHUyQjk1XHUyQjk4LVx1MkJGRlx1MkNFNS1cdTJDRUFcdTJFODAtXHUyRTk5XHUyRTlCLVx1MkVGM1x1MkYwMC1cdTJGRDVcdTJGRjAtXHUyRkZCXHUzMDA0XHUzMDEyXHUzMDEzXHUzMDIwXHUzMDM2XHUzMDM3XHUzMDNFXHUzMDNGXHUzMDlCXHUzMDlDXHUzMTkwXHUzMTkxXHUzMTk2LVx1MzE5Rlx1MzFDMC1cdTMxRTNcdTMyMDAtXHUzMjFFXHUzMjJBLVx1MzI0N1x1MzI1MFx1MzI2MC1cdTMyN0ZcdTMyOEEtXHUzMkIwXHUzMkMwLVx1MzNGRlx1NERDMC1cdTRERkZcdUE0OTAtXHVBNEM2XHVBNzAwLVx1QTcxNlx1QTcyMFx1QTcyMVx1QTc4OVx1QTc4QVx1QTgyOC1cdUE4MkJcdUE4MzYtXHVBODM5XHVBQTc3LVx1QUE3OVx1QUI1Qlx1RkIyOVx1RkJCMi1cdUZCQzFcdUZERkNcdUZERkRcdUZFNjJcdUZFNjQtXHVGRTY2XHVGRTY5XHVGRjA0XHVGRjBCXHVGRjFDLVx1RkYxRVx1RkYzRVx1RkY0MFx1RkY1Q1x1RkY1RVx1RkZFMC1cdUZGRTZcdUZGRTgtXHVGRkVFXHVGRkZDXHVGRkZEXXxcdUQ4MDBbXHVERDM3LVx1REQzRlx1REQ3OS1cdUREODlcdUREOEMtXHVERDhFXHVERDkwLVx1REQ5Qlx1RERBMFx1REREMC1cdURERkNdfFx1RDgwMltcdURDNzdcdURDNzhcdURFQzhdfFx1RDgwNVx1REYzRnxcdUQ4MDdbXHVERkQ1LVx1REZGMV18XHVEODFBW1x1REYzQy1cdURGM0ZcdURGNDVdfFx1RDgyRlx1REM5Q3xcdUQ4MzRbXHVEQzAwLVx1RENGNVx1REQwMC1cdUREMjZcdUREMjktXHVERDY0XHVERDZBLVx1REQ2Q1x1REQ4M1x1REQ4NFx1REQ4Qy1cdUREQTlcdUREQUUtXHVEREU4XHVERTAwLVx1REU0MVx1REU0NVx1REYwMC1cdURGNTZdfFx1RDgzNVtcdURFQzFcdURFREJcdURFRkJcdURGMTVcdURGMzVcdURGNEZcdURGNkZcdURGODlcdURGQTlcdURGQzNdfFx1RDgzNltcdURDMDAtXHVEREZGXHVERTM3LVx1REUzQVx1REU2RC1cdURFNzRcdURFNzYtXHVERTgzXHVERTg1XHVERTg2XXxcdUQ4MzhbXHVERDRGXHVERUZGXXxcdUQ4M0JbXHVEQ0FDXHVEQ0IwXHVERDJFXHVERUYwXHVERUYxXXxcdUQ4M0NbXHVEQzAwLVx1REMyQlx1REMzMC1cdURDOTNcdURDQTAtXHVEQ0FFXHVEQ0IxLVx1RENCRlx1RENDMS1cdURDQ0ZcdURDRDEtXHVEQ0Y1XHVERDEwLVx1REQ2Q1x1REQ3MC1cdUREQUNcdURERTYtXHVERTAyXHVERTEwLVx1REUzQlx1REU0MC1cdURFNDhcdURFNTBcdURFNTFcdURFNjAtXHVERTY1XHVERjAwLVx1REZGRl18XHVEODNEW1x1REMwMC1cdURFRDVcdURFRTAtXHVERUVDXHVERUYwLVx1REVGQVx1REYwMC1cdURGNzNcdURGODAtXHVERkQ4XHVERkUwLVx1REZFQl18XHVEODNFW1x1REMwMC1cdURDMEJcdURDMTAtXHVEQzQ3XHVEQzUwLVx1REM1OVx1REM2MC1cdURDODdcdURDOTAtXHVEQ0FEXHVERDAwLVx1REQwQlx1REQwRC1cdURENzFcdURENzMtXHVERDc2XHVERDdBLVx1RERBMlx1RERBNS1cdUREQUFcdUREQUUtXHVERENBXHVERENELVx1REU1M1x1REU2MC1cdURFNkRcdURFNzAtXHVERTczXHVERTc4LVx1REU3QVx1REU4MC1cdURFODJcdURFOTAtXHVERTk1XS87Ci8vIGcgZmxhZyBiYyB0aGlzIGFwcGVhcnMgdHdpY2UgaW4gYWNjb3VudGluZyBwYXR0ZXJuCnZhciBDVVJSRU5DWV9TWU1CT0xfUkVHRVggPSAvwqQvZzsKLy8gSW5zdGVhZCBvZiBkb2luZyBqdXN0IHJlcGxhY2UgJ3sxfScgd2UgdXNlIGdsb2JhbCByZWdleAovLyBzaW5jZSB0aGlzIGNhbiBhcHBlYXIgbW9yZSB0aGFuIG9uY2UgKGUuZyB7MX0ge251bWJlcn0gezF9KQp2YXIgVU5JVF8xX1JFR0VYID0gL1x7MVx9L2c7CnZhciBVTklUXzBfUkVHRVggPSAvXHswXH0vZzsKZnVuY3Rpb24gZXh0cmFjdERlY2ltYWxGb3JtYXRJTEQoZGF0YSkgewogIGlmICghZGF0YSkgewogICAgcmV0dXJuOwogIH0KICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSkucmVkdWNlKGZ1bmN0aW9uIChhbGwsIG51bSkgewogICAgdmFyIHBhdHRlcm4gPSBkYXRhW251bV07CiAgICBhbGxbbnVtXSA9IE9iamVjdC5rZXlzKHBhdHRlcm4pLnJlZHVjZShmdW5jdGlvbiAoYWxsLCBwKSB7CiAgICAgIGFsbFtwXSA9IChwYXR0ZXJuW3BdIHx8ICcnKS5yZXBsYWNlKC9bwqQwXS9nLCAnJykgLy8gYXBvc3Ryb3BoZS1lc2NhcGVkCiAgICAgIC5yZXBsYWNlKC8nKC4qPyknL2csICckMScpLnRyaW0oKTsKICAgICAgcmV0dXJuIGFsbDsKICAgIH0sIHsKICAgICAgb3RoZXI6IHBhdHRlcm4ub3RoZXIucmVwbGFjZSgvW8KkMF0vZywgJycpIC8vIGFwb3N0cm9waGUtZXNjYXBlZAogICAgICAucmVwbGFjZSgvJyguKj8pJy9nLCAnJDEnKS50cmltKCkKICAgIH0pOwogICAgcmV0dXJuIGFsbDsKICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKTsKfQpmdW5jdGlvbiBleHRyYWN0TERNTFBsdXJhbFJ1bGVNYXAobSwgaykgewogIHJldHVybiBPYmplY3Qua2V5cyhtKS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgcnVsZSkgewogICAgYWxsW3J1bGVdID0gbVtydWxlXVtrXTsKICAgIHJldHVybiBhbGw7CiAgfSwgewogICAgb3RoZXI6IG0ub3RoZXJba10KICB9KTsKfQpmdW5jdGlvbiBleHRyYWN0SUxEKHVuaXRzLCBjdXJyZW5jaWVzLCBudW1iZXJzLCBudW1iZXJpbmdTeXN0ZW0pIHsKICByZXR1cm4gewogICAgZGVjaW1hbDogewogICAgICBjb21wYWN0U2hvcnQ6IGV4dHJhY3REZWNpbWFsRm9ybWF0SUxEKG51bWJlcnMuZGVjaW1hbFtudW1iZXJpbmdTeXN0ZW1dLnNob3J0KSwKICAgICAgY29tcGFjdExvbmc6IGV4dHJhY3REZWNpbWFsRm9ybWF0SUxEKG51bWJlcnMuZGVjaW1hbFtudW1iZXJpbmdTeXN0ZW1dLmxvbmcpCiAgICB9LAogICAgY3VycmVuY3k6IHsKICAgICAgY29tcGFjdFNob3J0OiBleHRyYWN0RGVjaW1hbEZvcm1hdElMRChudW1iZXJzLmN1cnJlbmN5W251bWJlcmluZ1N5c3RlbV0uc2hvcnQpCiAgICB9LAogICAgc3ltYm9sczogbnVtYmVycy5zeW1ib2xzW251bWJlcmluZ1N5c3RlbV0sCiAgICBjdXJyZW5jeVN5bWJvbHM6IE9iamVjdC5rZXlzKGN1cnJlbmNpZXMpLnJlZHVjZShmdW5jdGlvbiAoYWxsLCBjb2RlKSB7CiAgICAgIGFsbFtjb2RlXSA9IHsKICAgICAgICBjdXJyZW5jeU5hbWU6IGN1cnJlbmNpZXNbY29kZV0uZGlzcGxheU5hbWUsCiAgICAgICAgY3VycmVuY3lTeW1ib2w6IGN1cnJlbmNpZXNbY29kZV0uc3ltYm9sLAogICAgICAgIGN1cnJlbmN5TmFycm93U3ltYm9sOiBjdXJyZW5jaWVzW2NvZGVdLm5hcnJvdyB8fCBjdXJyZW5jaWVzW2NvZGVdLnN5bWJvbAogICAgICB9OwogICAgICByZXR1cm4gYWxsOwogICAgfSwgT2JqZWN0LmNyZWF0ZShudWxsKSksCiAgICB1bml0U3ltYm9sczogT2JqZWN0LmtleXModW5pdHMpLnJlZHVjZShmdW5jdGlvbiAoYWxsLCB1bml0KSB7CiAgICAgIGFsbFt1bml0XSA9IHsKICAgICAgICB1bml0U3ltYm9sOiBleHRyYWN0TERNTFBsdXJhbFJ1bGVNYXAodW5pdHNbdW5pdF0uc2hvcnQsICdzeW1ib2wnKSwKICAgICAgICB1bml0TmFycm93U3ltYm9sOiBleHRyYWN0TERNTFBsdXJhbFJ1bGVNYXAodW5pdHNbdW5pdF0ubmFycm93LCAnc3ltYm9sJyksCiAgICAgICAgdW5pdE5hbWU6IGV4dHJhY3RMRE1MUGx1cmFsUnVsZU1hcCh1bml0c1t1bml0XS5sb25nLCAnc3ltYm9sJykKICAgICAgfTsKICAgICAgcmV0dXJuIGFsbDsKICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpCiAgfTsKfQpleHBvcnRzLmV4dHJhY3RJTEQgPSBleHRyYWN0SUxEOwpmdW5jdGlvbiBzZXJpYWxpemVTbG90VG9rZW5zKHRva2VucykgewogIGlmIChBcnJheS5pc0FycmF5KHRva2VucykpIHJldHVybiB0b2tlbnMubWFwKGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gInsiICsgdCArICJ9IjsKICB9KS5qb2luKCcnKTsKICByZXR1cm4gInsiICsgdG9rZW5zICsgIn0iOwp9Ci8vIENyZWRpdDogaHR0cHM6Ly9naXRodWIuY29tL2FuZHllYXJuc2hhdy9JbnRsLmpzL2Jsb2IvbWFzdGVyL3NjcmlwdHMvdXRpbHMvcmVkdWNlLmpzCi8vIE1hdGNoZXMgQ0xEUiBudW1iZXIgcGF0dGVybnMsIGUuZy4gIywjIzAuMDAsICMsIyMsIyMwLjAwLCAjLCMjMC4jIywgMCwgZXRjLgp2YXIgTlVNQkVSX1BBVFRFUk4gPSAvWyMwXSg/OltcLixdWyMwXSspKi9nOwp2YXIgU0NJRU5USUZJQ19QT1NJVElWRV9QQVRURVJOID0gc2VyaWFsaXplU2xvdFRva2VucyhbaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnNjaWVudGlmaWNTZXBhcmF0b3IsIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5zY2llbnRpZmljRXhwb25lbnRdKTsKdmFyIFNDSUVOVElGSUNfTkVHQVRJVkVfUEFUVEVSTiA9IHNlcmlhbGl6ZVNsb3RUb2tlbnMoW2ludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5taW51c1NpZ24sIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5udW1iZXIsIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5zY2llbnRpZmljU2VwYXJhdG9yLCBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uc2NpZW50aWZpY0V4cG9uZW50XSk7CnZhciBEVU1NWV9QT1NJVElWRV9QQVRURVJOID0gc2VyaWFsaXplU2xvdFRva2VucyhbaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlcl0pOwp2YXIgRFVNTVlfTkVHQVRJVkVfUEFUVEVSTiA9IHNlcmlhbGl6ZVNsb3RUb2tlbnMoW2ludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5taW51c1NpZ24sIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5udW1iZXJdKTsKdmFyIERVTU1ZX1BBVFRFUk4gPSBEVU1NWV9QT1NJVElWRV9QQVRURVJOICsgJzsnICsgRFVNTVlfTkVHQVRJVkVfUEFUVEVSTjsKdmFyIFNDSUVOVElGSUNfUEFUVEVSTiA9IFNDSUVOVElGSUNfUE9TSVRJVkVfUEFUVEVSTiArICc7JyArIFNDSUVOVElGSUNfTkVHQVRJVkVfUEFUVEVSTjsKLyoqCiAqIFR1cm4gY29tcGFjdCBwYXR0ZXJuIGxpa2UgYDAgdHJpbGxpb25gIHRvCiAqIGAwIHtjb21wYWN0U3ltYm9sfTstMCB7Y29tcGFjdFN5bWJvbH1gLgogKiBOZWdhdGl2ZSBwYXR0ZXJuIHdpbGwgbm90IGJlIGluc2VydGVkIGlmIHRoZXJlIGFscmVhZHkKICogZXhpc3Qgb25lLgogKiBUT0RPOiBNYXliZSBwcmVwcm9jZXNzIHRoaXMKICogQHBhcmFtIHBhdHRlcm4gZGVjaW1hbCBsb25nL3Nob3J0IHBhdHRlcm4KICovCmZ1bmN0aW9uIHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbChwYXR0ZXJuLCBzbG90VG9rZW4pIHsKICBpZiAoc2xvdFRva2VuID09PSB2b2lkIDApIHsKICAgIHNsb3RUb2tlbiA9IGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jb21wYWN0U3ltYm9sOwogIH0KICB2YXIgY29tcGFjdFVuaXQgPSBwYXR0ZXJuLnJlcGxhY2UoLzArLywgJycpLnRyaW0oKTsKICBpZiAoY29tcGFjdFVuaXQpIHsKICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoY29tcGFjdFVuaXQsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoc2xvdFRva2VuKSk7CiAgfQogIHZhciBuZWdhdGl2ZVBhdHRlcm4gPSBwYXR0ZXJuLmluZGV4T2YoJy0nKSA+IC0xID8gcGF0dGVybiA6IHBhdHRlcm4ucmVwbGFjZSgvKDArKS8sICctJDEnKTsKICByZXR1cm4gW3BhdHRlcm4ucmVwbGFjZSgvMCsvLCAne251bWJlcn0nKSwgbmVnYXRpdmVQYXR0ZXJuLnJlcGxhY2UoLzArLywgJ3tudW1iZXJ9JyldOwp9Ci8qKgogKiBUdXJuIGNvbXBhY3QgcGF0dGVybiBsaWtlIGDCpDAgdHJpbGxpb25gIHRvCiAqIGDCpDAge2NvbXBhY3RTeW1ib2x9Oy3CpDAge2NvbXBhY3RTeW1ib2x9YAogKiBOZWdhdGl2ZSBwYXR0ZXJuIHdpbGwgbm90IGJlIGluc2VydGVkIGlmIHRoZXJlIGFscmVhZHkKICogZXhpc3Qgb25lLgogKiBUT0RPOiBNYXliZSBwcmVwcm9jZXNzIHRoaXMKICogQHBhcmFtIHBhdHRlcm4gY3VycmVuY3kgbG9uZy9zaG9ydCBwYXR0ZXJuCiAqLwpmdW5jdGlvbiBwcm9jZXNzQ3VycmVuY3lDb21wYWN0U3ltYm9sKHBhdHRlcm4sIHNsb3RUb2tlbikgewogIGlmIChzbG90VG9rZW4gPT09IHZvaWQgMCkgewogICAgc2xvdFRva2VuID0gaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3RTeW1ib2w7CiAgfQogIHZhciBjb21wYWN0VW5pdCA9IHBhdHRlcm4ucmVwbGFjZSgvW8KkMF0vZywgJycpLnRyaW0oKTsKICBpZiAoY29tcGFjdFVuaXQpIHsKICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoY29tcGFjdFVuaXQsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoc2xvdFRva2VuKSk7CiAgfQogIHZhciBuZWdhdGl2ZVBhdHRlcm4gPSBwYXR0ZXJuLmluZGV4T2YoJy0nKSA+IC0xID8gcGF0dGVybiA6ICItIiArIHBhdHRlcm47CiAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvMCsvLCAne251bWJlcn0nKSArICc7JyArIG5lZ2F0aXZlUGF0dGVybi5yZXBsYWNlKC8wKy8sICd7bnVtYmVyfScpOwp9CnZhciBJTlNFUlRfQkVGT1JFX1BBVFRFUk5fUkVHRVggPSAvW15cczsoLV3CpC87CnZhciBJTlNFUlRfQUZURVJfUEFUVEVSTl9SRUdFWCA9IC/CpFteXHMpO10vOwpmdW5jdGlvbiBzaG91bGRJbnNlcnRCZWZvcmUoY3VycmVuY3ksIHBhdHRlcm4pIHsKICAvLyBzdXJyb3VuZGluZ01hdGNoIFs6ZGlnaXQ6XSBjaGVjawogIHJldHVybiBJTlNFUlRfQkVGT1JFX1BBVFRFUk5fUkVHRVgudGVzdChwYXR0ZXJuKSAmJgogIC8vIFs6XlM6XQogICFTX1VOSUNPREVfUkVHRVgudGVzdChjdXJyZW5jeVswXSk7Cn0KZnVuY3Rpb24gc2hvdWxkSW5zZXJ0QWZ0ZXIoY3VycmVuY3ksIHBhdHRlcm4pIHsKICByZXR1cm4gSU5TRVJUX0FGVEVSX1BBVFRFUk5fUkVHRVgudGVzdChwYXR0ZXJuKSAmJgogIC8vIFs6XlM6XQogICFTX1VOSUNPREVfUkVHRVgudGVzdChjdXJyZW5jeVtjdXJyZW5jeS5sZW5ndGggLSAxXSk7Cn0KZnVuY3Rpb24gaW5zZXJ0QmV0d2VlbihjdXJyZW5jeSwgcGF0dGVybiwgaW5zZXJ0QmV0d2VlbkNoYXIpIHsKICAvLyBDaGVjayBhZnRlckN1cnJlbmN5CiAgaWYgKHNob3VsZEluc2VydEFmdGVyKGN1cnJlbmN5LCBwYXR0ZXJuKSkgewogICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZShDVVJSRU5DWV9TWU1CT0xfUkVHRVgsICJcdTAwQTQiICsgaW5zZXJ0QmV0d2VlbkNoYXIpOwogIH0KICAvLyBDaGVjayBiZWZvcmVDdXJyZW5jeQogIGlmIChzaG91bGRJbnNlcnRCZWZvcmUoY3VycmVuY3ksIHBhdHRlcm4pKSB7CiAgICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKENVUlJFTkNZX1NZTUJPTF9SRUdFWCwgaW5zZXJ0QmV0d2VlbkNoYXIgKyAiXHUwMEE0Iik7CiAgfQogIHJldHVybiBwYXR0ZXJuOwp9CnZhciBQYXR0ZXJucyA9IC8qKiBAY2xhc3MgKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUGF0dGVybnModW5pdHMsIGN1cnJlbmNpZXMsIG51bWJlcnMsIG51bWJlcmluZ1N5c3RlbSwgdW5pdCwgY3VycmVuY3ksIGN1cnJlbmN5U2lnbikgewogICAgdGhpcy51bml0cyA9IHVuaXRzOwogICAgdGhpcy5jdXJyZW5jaWVzID0gY3VycmVuY2llczsKICAgIHRoaXMubnVtYmVycyA9IG51bWJlcnM7CiAgICB0aGlzLm51bWJlcmluZ1N5c3RlbSA9IG51bWJlcmluZ1N5c3RlbTsKICAgIHRoaXMuX3VuaXQgPSB1bml0OwogICAgdGhpcy5fY3VycmVuY3kgPSBjdXJyZW5jeTsKICAgIHRoaXMuY3VycmVuY3lTaWduID0gY3VycmVuY3lTaWduOwogIH0KICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybnMucHJvdG90eXBlLCAiZGVjaW1hbCIsIHsKICAgIC8vIFN0eWxlCiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLmRlY2ltYWxQYXR0ZXJucykgewogICAgICAgIHRoaXMuZGVjaW1hbFBhdHRlcm5zID0gbmV3IERlY2ltYWxQYXR0ZXJucyh0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5kZWNpbWFsUGF0dGVybnM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXR0ZXJucy5wcm90b3R5cGUsICJwZXJjZW50IiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5wZXJjZW50UGF0dGVybnMpIHsKICAgICAgICB0aGlzLnBlcmNlbnRQYXR0ZXJucyA9IG5ldyBQZXJjZW50UGF0dGVybnModGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMucGVyY2VudFBhdHRlcm5zOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybnMucHJvdG90eXBlLCAidW5pdCIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMudW5pdFBhdHRlcm5zKSB7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5fdW5pdCwgJ3VuaXQgbXVzdCBiZSBzdXBwbGllZCcpOwogICAgICAgIHRoaXMudW5pdFBhdHRlcm5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgICB0aGlzLnVuaXRQYXR0ZXJuc1t0aGlzLl91bml0XSA9IG5ldyBVbml0UGF0dGVybnModGhpcy51bml0cywgdGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgdGhpcy5fdW5pdCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMudW5pdFBhdHRlcm5zOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybnMucHJvdG90eXBlLCAiY3VycmVuY3kiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLmN1cnJlbmN5UGF0dGVybnMpIHsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLl9jdXJyZW5jeSwgJ2N1cnJlbmN5IG11c3QgYmUgc3VwcGxpZWQnKTsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLmN1cnJlbmN5U2lnbiwgJ2N1cnJlbmN5U2lnbiBtdXN0IGJlIHN1cHBsaWVkJyk7CiAgICAgICAgdGhpcy5jdXJyZW5jeVBhdHRlcm5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgICB0aGlzLmN1cnJlbmN5UGF0dGVybnNbdGhpcy5fY3VycmVuY3ldID0gbmV3IEN1cnJlbmN5UGF0dGVybnModGhpcy5jdXJyZW5jaWVzLCB0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtLCB0aGlzLl9jdXJyZW5jeSwgdGhpcy5jdXJyZW5jeVNpZ24pOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmN1cnJlbmN5UGF0dGVybnM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIHJldHVybiBQYXR0ZXJuczsKfSgpOwpleHBvcnRzLlBhdHRlcm5zID0gUGF0dGVybnM7CmZ1bmN0aW9uIHByb2Nlc3NTaWduUGF0dGVybihzaWduUGF0dGVybiwgZm4pIHsKICBpZiAoIWZuKSB7CiAgICByZXR1cm4gc2lnblBhdHRlcm47CiAgfQogIHJldHVybiB7CiAgICBwb3NpdGl2ZVBhdHRlcm46IGZuKHNpZ25QYXR0ZXJuLnBvc2l0aXZlUGF0dGVybiksCiAgICB6ZXJvUGF0dGVybjogZm4oc2lnblBhdHRlcm4uemVyb1BhdHRlcm4pLAogICAgbmVnYXRpdmVQYXR0ZXJuOiBmbihzaWduUGF0dGVybi5uZWdhdGl2ZVBhdHRlcm4pCiAgfTsKfQovKioKICogUHJvZHVjZSBwb3NpdGl2ZS9uZWdhdGl2ZS96ZXJvIHBhdHRlcm4KICogVGhpcyBhbHNvIGNvbnZlcnRzIHswfSBpbnRvIHtudW1iZXJ9CiAqIEBwYXJhbSBwYXR0ZXJucwogKiBAcGFyYW0gc2lnbkRpc3BsYXkKICovCmZ1bmN0aW9uIHByb2R1Y2VTaWduUGF0dGVybihwYXR0ZXJucywgc2lnbkRpc3BsYXkpIHsKICBpbnZhcmlhbnQoISFwYXR0ZXJucywgJ1BhdHRlcm4gc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogIHZhciBfYSA9IHBhdHRlcm5zLnNwbGl0KCc7JyksCiAgICBwb3NpdGl2ZVBhdHRlcm4gPSBfYVswXSwKICAgIG5lZ2F0aXZlUGF0dGVybiA9IF9hWzFdOwogIGludmFyaWFudCghIW5lZ2F0aXZlUGF0dGVybiwgIm5lZ2F0aXZlUGF0dGVybiBzaG91bGQgaGF2ZSBleGlzdGVkIGJ1dCBnb3QgXCIiICsgcGF0dGVybnMgKyAiXCIiKTsKICB2YXIgbm9TaWduUGF0dGVybiA9IHBvc2l0aXZlUGF0dGVybi5yZXBsYWNlKCcrJywgJycpOwogIG5lZ2F0aXZlUGF0dGVybiA9IG5lZ2F0aXZlUGF0dGVybi5yZXBsYWNlKCctJywgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubWludXNTaWduKSk7CiAgdmFyIGFsd2F5c1Bvc2l0aXZlUGF0dGVybiA9IHBvc2l0aXZlUGF0dGVybjsKICBpZiAobmVnYXRpdmVQYXR0ZXJuLmluZGV4T2YoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm1pbnVzU2lnbikgPiAtMSkgewogICAgYWx3YXlzUG9zaXRpdmVQYXR0ZXJuID0gbmVnYXRpdmVQYXR0ZXJuLnJlcGxhY2UoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm1pbnVzU2lnbiwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnBsdXNTaWduKTsKICB9IGVsc2UgaWYgKHBvc2l0aXZlUGF0dGVybi5pbmRleE9mKCcrJykgPiAtMSkgewogICAgYWx3YXlzUG9zaXRpdmVQYXR0ZXJuID0gcG9zaXRpdmVQYXR0ZXJuID0gcG9zaXRpdmVQYXR0ZXJuLnJlcGxhY2UoJysnLCBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5wbHVzU2lnbikpOwogIH0gZWxzZSB7CiAgICAvLyBJbiBjYXNlIHswfSBpcyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBwYXR0ZXJuCiAgICBhbHdheXNQb3NpdGl2ZVBhdHRlcm4gPSAiIiArIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnBsdXNTaWduKSArIG5vU2lnblBhdHRlcm47CiAgfQogIHBvc2l0aXZlUGF0dGVybiA9IHBvc2l0aXZlUGF0dGVybi5yZXBsYWNlKCd7MH0nLCBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5udW1iZXIpKTsKICBhbHdheXNQb3NpdGl2ZVBhdHRlcm4gPSBhbHdheXNQb3NpdGl2ZVBhdHRlcm4ucmVwbGFjZSgnezB9Jywgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubnVtYmVyKSk7CiAgbmVnYXRpdmVQYXR0ZXJuID0gbmVnYXRpdmVQYXR0ZXJuLnJlcGxhY2UoJ3swfScsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlcikpOwogIG5vU2lnblBhdHRlcm4gPSBub1NpZ25QYXR0ZXJuLnJlcGxhY2UoJ3swfScsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlcikpOwogIHN3aXRjaCAoc2lnbkRpc3BsYXkpIHsKICAgIGNhc2UgJ2Fsd2F5cyc6CiAgICAgIHJldHVybiB7CiAgICAgICAgcG9zaXRpdmVQYXR0ZXJuOiBhbHdheXNQb3NpdGl2ZVBhdHRlcm4sCiAgICAgICAgemVyb1BhdHRlcm46IGFsd2F5c1Bvc2l0aXZlUGF0dGVybiwKICAgICAgICBuZWdhdGl2ZVBhdHRlcm46IG5lZ2F0aXZlUGF0dGVybgogICAgICB9OwogICAgY2FzZSAnYXV0byc6CiAgICAgIHJldHVybiB7CiAgICAgICAgcG9zaXRpdmVQYXR0ZXJuOiBwb3NpdGl2ZVBhdHRlcm4sCiAgICAgICAgemVyb1BhdHRlcm46IHBvc2l0aXZlUGF0dGVybiwKICAgICAgICBuZWdhdGl2ZVBhdHRlcm46IG5lZ2F0aXZlUGF0dGVybgogICAgICB9OwogICAgY2FzZSAnZXhjZXB0WmVybyc6CiAgICAgIHJldHVybiB7CiAgICAgICAgcG9zaXRpdmVQYXR0ZXJuOiBhbHdheXNQb3NpdGl2ZVBhdHRlcm4sCiAgICAgICAgemVyb1BhdHRlcm46IG5vU2lnblBhdHRlcm4sCiAgICAgICAgbmVnYXRpdmVQYXR0ZXJuOiBuZWdhdGl2ZVBhdHRlcm4KICAgICAgfTsKICAgIGNhc2UgJ25ldmVyJzoKICAgICAgcmV0dXJuIHsKICAgICAgICBwb3NpdGl2ZVBhdHRlcm46IG5vU2lnblBhdHRlcm4sCiAgICAgICAgemVyb1BhdHRlcm46IG5vU2lnblBhdHRlcm4sCiAgICAgICAgbmVnYXRpdmVQYXR0ZXJuOiBub1NpZ25QYXR0ZXJuCiAgICAgIH07CiAgfQp9CnZhciBOb3RhdGlvblBhdHRlcm5zID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBOb3RhdGlvblBhdHRlcm5zKCkge30KICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICJjb21wYWN0U2hvcnQiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ub3RhdGlvbiA9ICdjb21wYWN0U2hvcnQnOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAiY29tcGFjdExvbmciLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ub3RhdGlvbiA9ICdjb21wYWN0TG9uZyc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwJywgewogICAgLy8gRGVjaW1hbEZvcm1hdE51bQogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICByZXR1cm4gTm90YXRpb25QYXR0ZXJuczsKfSgpOwp2YXIgRGVjaW1hbFBhdHRlcm5zID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uIChfc3VwZXIpIHsKICBfX2V4dGVuZHMoRGVjaW1hbFBhdHRlcm5zLCBfc3VwZXIpOwogIGZ1bmN0aW9uIERlY2ltYWxQYXR0ZXJucyhudW1iZXJzLCBudW1iZXJpbmdTeXN0ZW0pIHsKICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CiAgICBfdGhpcy5udW1iZXJzID0gbnVtYmVyczsKICAgIF90aGlzLm51bWJlcmluZ1N5c3RlbSA9IG51bWJlcmluZ1N5c3RlbTsKICAgIHJldHVybiBfdGhpczsKICB9CiAgRGVjaW1hbFBhdHRlcm5zLnByb3RvdHlwZS5wcm9kdWNlQ29tcGFjdFNpZ25QYXR0ZXJuID0gZnVuY3Rpb24gKGRlY2ltYWxOdW0pIHsKICAgIGlmICghdGhpcy5jb21wYWN0U2lnblBhdHRlcm4pIHsKICAgICAgdGhpcy5jb21wYWN0U2lnblBhdHRlcm4gPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgfQogICAgdmFyIHNpZ25QYXR0ZXJuID0gdGhpcy5jb21wYWN0U2lnblBhdHRlcm47CiAgICBpZiAoIXNpZ25QYXR0ZXJuW2RlY2ltYWxOdW1dKSB7CiAgICAgIGludmFyaWFudCghIXRoaXMuc2lnbkRpc3BsYXksICdTaWduIERpc3BsYXkgc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogICAgICBpZiAodGhpcy5ub3RhdGlvbiA9PT0gJ2NvbXBhY3RMb25nJykgewogICAgICAgIHNpZ25QYXR0ZXJuW2RlY2ltYWxOdW1dID0gcHJvZHVjZVNpZ25QYXR0ZXJuKHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbCh0aGlzLm51bWJlcnMuZGVjaW1hbFt0aGlzLm51bWJlcmluZ1N5c3RlbV0ubG9uZ1tkZWNpbWFsTnVtXS5vdGhlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3ROYW1lKS5qb2luKCc7JyksIHRoaXMuc2lnbkRpc3BsYXkpOwogICAgICB9IGVsc2UgewogICAgICAgIHNpZ25QYXR0ZXJuW2RlY2ltYWxOdW1dID0gcHJvZHVjZVNpZ25QYXR0ZXJuKHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbCh0aGlzLm51bWJlcnMuZGVjaW1hbFt0aGlzLm51bWJlcmluZ1N5c3RlbV0uc2hvcnRbZGVjaW1hbE51bV0ub3RoZXIsIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jb21wYWN0U3ltYm9sKS5qb2luKCc7JyksIHRoaXMuc2lnbkRpc3BsYXkpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gc2lnblBhdHRlcm5bZGVjaW1hbE51bV07CiAgfTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjaW1hbFBhdHRlcm5zLnByb3RvdHlwZSwgImFsd2F5cyIsIHsKICAgIC8vIFNpZ24gRGlzcGxheQogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc2lnbkRpc3BsYXkgPSAnYWx3YXlzJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNpbWFsUGF0dGVybnMucHJvdG90eXBlLCAiYXV0byIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2F1dG8nOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY2ltYWxQYXR0ZXJucy5wcm90b3R5cGUsICJuZXZlciIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ25ldmVyJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNpbWFsUGF0dGVybnMucHJvdG90eXBlLCAiZXhjZXB0WmVybyIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2V4Y2VwdFplcm8nOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY2ltYWxQYXR0ZXJucy5wcm90b3R5cGUsICJzdGFuZGFyZCIsIHsKICAgIC8vIE5vdGF0aW9uCiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLnNpZ25QYXR0ZXJuKSB7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5zaWduRGlzcGxheSwgJ1NpZ24gRGlzcGxheSBzaG91bGQgaGF2ZSBleGlzdGVkJyk7CiAgICAgICAgdGhpcy5zaWduUGF0dGVybiA9IHByb2R1Y2VTaWduUGF0dGVybihEVU1NWV9QQVRURVJOLCB0aGlzLnNpZ25EaXNwbGF5KTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY2ltYWxQYXR0ZXJucy5wcm90b3R5cGUsICJzY2llbnRpZmljIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIGludmFyaWFudCghIXRoaXMuc2lnbkRpc3BsYXksICdTaWduIERpc3BsYXkgc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogICAgICAgIHRoaXMuc2lnblBhdHRlcm4gPSBwcm9kdWNlU2lnblBhdHRlcm4oU0NJRU5USUZJQ19QQVRURVJOLCB0aGlzLnNpZ25EaXNwbGF5KTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgcmV0dXJuIERlY2ltYWxQYXR0ZXJuczsKfShOb3RhdGlvblBhdHRlcm5zKTsKdmFyIFBlcmNlbnRQYXR0ZXJucyA9IC8qKiBAY2xhc3MgKi9mdW5jdGlvbiAoX3N1cGVyKSB7CiAgX19leHRlbmRzKFBlcmNlbnRQYXR0ZXJucywgX3N1cGVyKTsKICBmdW5jdGlvbiBQZXJjZW50UGF0dGVybnMoKSB7CiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CiAgfQogIFBlcmNlbnRQYXR0ZXJucy5wcm90b3R5cGUuZ2VuZXJhdGVTdGFuZGFyZE9yU2NpZW50aWZpY1BhdHRlcm4gPSBmdW5jdGlvbiAoaXNTY2llbnRpZmljKSB7CiAgICBpbnZhcmlhbnQoISF0aGlzLnNpZ25EaXNwbGF5LCAnU2lnbiBEaXNwbGF5IHNob3VsZCBoYXZlIGV4aXN0ZWQnKTsKICAgIHZhciBwYXR0ZXJuID0gdGhpcy5udW1iZXJzLnBlcmNlbnRbdGhpcy5udW1iZXJpbmdTeXN0ZW1dLnJlcGxhY2UoLyUvZywgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ucGVyY2VudFNpZ24pKS5yZXBsYWNlKE5VTUJFUl9QQVRURVJOLCBpc1NjaWVudGlmaWMgPyBTQ0lFTlRJRklDX1BPU0lUSVZFX1BBVFRFUk4gOiBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5udW1iZXIpKTsKICAgIHZhciBuZWdhdGl2ZVBhdHRlcm47CiAgICBpZiAocGF0dGVybi5pbmRleE9mKCc7JykgPCAwKSB7CiAgICAgIG5lZ2F0aXZlUGF0dGVybiA9ICIiICsgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubWludXNTaWduKSArIHBhdHRlcm47CiAgICAgIHBhdHRlcm4gKz0gJzsnICsgbmVnYXRpdmVQYXR0ZXJuOwogICAgfQogICAgcmV0dXJuIHByb2R1Y2VTaWduUGF0dGVybihwYXR0ZXJuLCB0aGlzLnNpZ25EaXNwbGF5KTsKICB9OwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQZXJjZW50UGF0dGVybnMucHJvdG90eXBlLCAic3RhbmRhcmQiLCB7CiAgICAvLyBOb3RhdGlvbgogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIHRoaXMuc2lnblBhdHRlcm4gPSB0aGlzLmdlbmVyYXRlU3RhbmRhcmRPclNjaWVudGlmaWNQYXR0ZXJuKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuc2lnblBhdHRlcm47CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQZXJjZW50UGF0dGVybnMucHJvdG90eXBlLCAic2NpZW50aWZpYyIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuc2lnblBhdHRlcm4pIHsKICAgICAgICB0aGlzLnNpZ25QYXR0ZXJuID0gdGhpcy5nZW5lcmF0ZVN0YW5kYXJkT3JTY2llbnRpZmljUGF0dGVybih0cnVlKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgcmV0dXJuIFBlcmNlbnRQYXR0ZXJuczsKfShEZWNpbWFsUGF0dGVybnMpOwp2YXIgVW5pdFBhdHRlcm5zID0gLyoqIEBjbGFzcyAqL2Z1bmN0aW9uIChfc3VwZXIpIHsKICBfX2V4dGVuZHMoVW5pdFBhdHRlcm5zLCBfc3VwZXIpOwogIGZ1bmN0aW9uIFVuaXRQYXR0ZXJucyh1bml0cywgbnVtYmVycywgbnVtYmVyaW5nU3lzdGVtLCB1bml0KSB7CiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwogICAgX3RoaXMudW5pdCA9IHVuaXQ7CiAgICBfdGhpcy51bml0cyA9IHVuaXRzOwogICAgX3RoaXMubnVtYmVycyA9IG51bWJlcnM7CiAgICBfdGhpcy5udW1iZXJpbmdTeXN0ZW0gPSBudW1iZXJpbmdTeXN0ZW07CiAgICByZXR1cm4gX3RoaXM7CiAgfQogIFVuaXRQYXR0ZXJucy5wcm90b3R5cGUuZ2VuZXJhdGVTdGFuZGFyZE9yU2NpZW50aWZpY1BhdHRlcm4gPSBmdW5jdGlvbiAoaXNTY2llbnRpZmljKSB7CiAgICBpbnZhcmlhbnQoISF0aGlzLnNpZ25EaXNwbGF5LCAnU2lnbiBEaXNwbGF5IHNob3VsZCBoYXZlIGV4aXN0ZWQnKTsKICAgIGludmFyaWFudCghIXRoaXMucGF0dGVybiwgJ1BhdHRlcm4gbXVzdCBleGlzdCcpOwogICAgdmFyIHBhdHRlcm4gPSB0aGlzLnBhdHRlcm47CiAgICB2YXIgbmVnYXRpdmVQYXR0ZXJuOwogICAgaWYgKHBhdHRlcm4uaW5kZXhPZignOycpIDwgMCkgewogICAgICBuZWdhdGl2ZVBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoJ3swfScsICctezB9Jyk7CiAgICAgIHBhdHRlcm4gKz0gJzsnICsgbmVnYXRpdmVQYXR0ZXJuOwogICAgfQogICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZShVTklUXzBfUkVHRVgsIGlzU2NpZW50aWZpYyA/IFNDSUVOVElGSUNfUE9TSVRJVkVfUEFUVEVSTiA6IHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlcikpOwogICAgcmV0dXJuIHByb2R1Y2VTaWduUGF0dGVybihwYXR0ZXJuLCB0aGlzLnNpZ25EaXNwbGF5KTsKICB9OwogIFVuaXRQYXR0ZXJucy5wcm90b3R5cGUucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybiA9IGZ1bmN0aW9uIChkZWNpbWFsTnVtKSB7CiAgICBpZiAoIXRoaXMuY29tcGFjdFNpZ25QYXR0ZXJuKSB7CiAgICAgIHRoaXMuY29tcGFjdFNpZ25QYXR0ZXJuID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIH0KICAgIHZhciBjb21wYWN0U2lnblBhdHRlcm5zID0gdGhpcy5jb21wYWN0U2lnblBhdHRlcm47CiAgICBpZiAoIWNvbXBhY3RTaWduUGF0dGVybnNbZGVjaW1hbE51bV0pIHsKICAgICAgaW52YXJpYW50KCEhdGhpcy5wYXR0ZXJuLCAnUGF0dGVybiBzaG91bGQgZXhpc3QnKTsKICAgICAgaW52YXJpYW50KCEhdGhpcy5zaWduRGlzcGxheSwgJ1NpZ24gRGlzcGxheSBzaG91bGQgZXhpc3QnKTsKICAgICAgdmFyIHBhdHRlcm4gPSB0aGlzLnBhdHRlcm47CiAgICAgIHZhciBjb21wYWN0UGF0dGVybiA9IHZvaWQgMDsKICAgICAgaWYgKHRoaXMubm90YXRpb24gPT09ICdjb21wYWN0U2hvcnQnKSB7CiAgICAgICAgY29tcGFjdFBhdHRlcm4gPSBwcm9jZXNzRGVjaW1hbENvbXBhY3RTeW1ib2wodGhpcy5udW1iZXJzLmRlY2ltYWxbdGhpcy5udW1iZXJpbmdTeXN0ZW1dLnNob3J0W2RlY2ltYWxOdW1dLm90aGVyLCBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY29tcGFjdFN5bWJvbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29tcGFjdFBhdHRlcm4gPSBwcm9jZXNzRGVjaW1hbENvbXBhY3RTeW1ib2wodGhpcy5udW1iZXJzLmRlY2ltYWxbdGhpcy5udW1iZXJpbmdTeXN0ZW1dLmxvbmdbZGVjaW1hbE51bV0ub3RoZXIsIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jb21wYWN0TmFtZSk7CiAgICAgIH0KICAgICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgnezB9JywgY29tcGFjdFBhdHRlcm5bMF0pICsgJzsnICsgcGF0dGVybi5yZXBsYWNlKCd7MH0nLCBjb21wYWN0UGF0dGVyblsxXSk7CiAgICAgIGNvbXBhY3RTaWduUGF0dGVybnNbZGVjaW1hbE51bV0gPSBwcm9kdWNlU2lnblBhdHRlcm4ocGF0dGVybiwgdGhpcy5zaWduRGlzcGxheSk7CiAgICB9CiAgICByZXR1cm4gY29tcGFjdFNpZ25QYXR0ZXJuc1tkZWNpbWFsTnVtXTsKICB9OwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAibmFycm93IiwgewogICAgLy8gVW5pdERpc3BsYXkKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMucGF0dGVybikgewogICAgICAgIHRoaXMucGF0dGVybiA9IHRoaXMudW5pdHNbdGhpcy51bml0XS5uYXJyb3cub3RoZXIucGF0dGVybi5yZXBsYWNlKFVOSVRfMV9SRUdFWCwgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4udW5pdE5hcnJvd1N5bWJvbCkpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pdFBhdHRlcm5zLnByb3RvdHlwZSwgInNob3J0IiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5wYXR0ZXJuKSB7CiAgICAgICAgdGhpcy5wYXR0ZXJuID0gdGhpcy51bml0c1t0aGlzLnVuaXRdLnNob3J0Lm90aGVyLnBhdHRlcm4ucmVwbGFjZShVTklUXzFfUkVHRVgsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnVuaXRTeW1ib2wpKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaXRQYXR0ZXJucy5wcm90b3R5cGUsICJsb25nIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5wYXR0ZXJuKSB7CiAgICAgICAgdGhpcy5wYXR0ZXJuID0gdGhpcy51bml0c1t0aGlzLnVuaXRdLmxvbmcub3RoZXIucGF0dGVybi5yZXBsYWNlKFVOSVRfMV9SRUdFWCwgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4udW5pdE5hbWUpKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaXRQYXR0ZXJucy5wcm90b3R5cGUsICJhbHdheXMiLCB7CiAgICAvLyBTaWduIERpc3BsYXkKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2Fsd2F5cyc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pdFBhdHRlcm5zLnByb3RvdHlwZSwgImF1dG8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdhdXRvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAibmV2ZXIiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICduZXZlcic7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pdFBhdHRlcm5zLnByb3RvdHlwZSwgImV4Y2VwdFplcm8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdleGNlcHRaZXJvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAic3RhbmRhcmQiLCB7CiAgICAvLyBOb3RhdGlvbgogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIHRoaXMuc2lnblBhdHRlcm4gPSB0aGlzLmdlbmVyYXRlU3RhbmRhcmRPclNjaWVudGlmaWNQYXR0ZXJuKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuc2lnblBhdHRlcm47CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAic2NpZW50aWZpYyIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuc2lnblBhdHRlcm4pIHsKICAgICAgICB0aGlzLnNpZ25QYXR0ZXJuID0gdGhpcy5nZW5lcmF0ZVN0YW5kYXJkT3JTY2llbnRpZmljUGF0dGVybih0cnVlKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgcmV0dXJuIFVuaXRQYXR0ZXJuczsKfShOb3RhdGlvblBhdHRlcm5zKTsKZnVuY3Rpb24gcmVzb2x2ZVBhdHRlcm5Gb3JDdXJyZW5jeUNvZGUocmVzb2x2ZWRDdXJyZW5jeSwgZGF0YSwgbm90YXRpb24sIGN1cnJlbmN5U2lnbiwgZGVjaW1hbE51bSkgewogIHZhciBzaG9ydFBhdHRlcm4gPSBkYXRhLnNob3J0OwogIHZhciBsb25nUGF0dGVybiA9IGRhdGEubG9uZyB8fCBkYXRhLnNob3J0OwogIHZhciBwYXR0ZXJuID0gJyc7CiAgc3dpdGNoIChub3RhdGlvbikgewogICAgY2FzZSAnY29tcGFjdExvbmcnOgogICAgICB7CiAgICAgICAgcGF0dGVybiA9IChsb25nUGF0dGVybiA9PT0gbnVsbCB8fCBsb25nUGF0dGVybiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9uZ1BhdHRlcm5bZGVjaW1hbE51bV0ub3RoZXIpIHx8IChzaG9ydFBhdHRlcm4gPT09IG51bGwgfHwgc2hvcnRQYXR0ZXJuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaG9ydFBhdHRlcm5bZGVjaW1hbE51bV0ub3RoZXIpIHx8IGRhdGEuc3RhbmRhcmQ7CiAgICAgICAgcmV0dXJuIHByb2Nlc3NDdXJyZW5jeUNvbXBhY3RTeW1ib2woaW5zZXJ0QmV0d2VlbihyZXNvbHZlZEN1cnJlbmN5LCBwYXR0ZXJuLCBkYXRhLmN1cnJlbmN5U3BhY2luZy5iZWZvcmVJbnNlcnRCZXR3ZWVuKSwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3ROYW1lKTsKICAgICAgfQogICAgY2FzZSAnY29tcGFjdFNob3J0JzoKICAgICAgcGF0dGVybiA9IChzaG9ydFBhdHRlcm4gPT09IG51bGwgfHwgc2hvcnRQYXR0ZXJuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaG9ydFBhdHRlcm5bZGVjaW1hbE51bV0ub3RoZXIpIHx8IGRhdGEuc3RhbmRhcmQ7CiAgICAgIHJldHVybiBwcm9jZXNzQ3VycmVuY3lDb21wYWN0U3ltYm9sKGluc2VydEJldHdlZW4ocmVzb2x2ZWRDdXJyZW5jeSwgcGF0dGVybiwgZGF0YS5jdXJyZW5jeVNwYWNpbmcuYmVmb3JlSW5zZXJ0QmV0d2VlbiksIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jb21wYWN0U3ltYm9sKTsKICAgIGNhc2UgJ3NjaWVudGlmaWMnOgogICAgICBwYXR0ZXJuID0gY3VycmVuY3lTaWduID09PSAnYWNjb3VudGluZycgPyBkYXRhLmFjY291bnRpbmcgOiBkYXRhLnN0YW5kYXJkOwogICAgICBwYXR0ZXJuID0gaW5zZXJ0QmV0d2VlbihyZXNvbHZlZEN1cnJlbmN5LCBwYXR0ZXJuLCBkYXRhLmN1cnJlbmN5U3BhY2luZy5iZWZvcmVJbnNlcnRCZXR3ZWVuKTsKICAgICAgaWYgKHBhdHRlcm4uaW5kZXhPZignOycpIDwgMCkgewogICAgICAgIHBhdHRlcm4gKz0gJzsnICsgKCItIiArIHBhdHRlcm4pOwogICAgICB9CiAgICAgIHJldHVybiBwYXR0ZXJuLnJlcGxhY2UoTlVNQkVSX1BBVFRFUk4sIFNDSUVOVElGSUNfUE9TSVRJVkVfUEFUVEVSTik7CiAgICBjYXNlICdzdGFuZGFyZCc6CiAgICAgIHBhdHRlcm4gPSBjdXJyZW5jeVNpZ24gPT09ICdhY2NvdW50aW5nJyA/IGRhdGEuYWNjb3VudGluZyA6IGRhdGEuc3RhbmRhcmQ7CiAgICAgIHBhdHRlcm4gPSBpbnNlcnRCZXR3ZWVuKHJlc29sdmVkQ3VycmVuY3ksIHBhdHRlcm4sIGRhdGEuY3VycmVuY3lTcGFjaW5nLmJlZm9yZUluc2VydEJldHdlZW4pOwogICAgICBpZiAocGF0dGVybi5pbmRleE9mKCc7JykgPCAwKSB7CiAgICAgICAgcGF0dGVybiArPSAnOycgKyAoIi0iICsgcGF0dGVybik7CiAgICAgIH0KICAgICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZShOVU1CRVJfUEFUVEVSTiwgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubnVtYmVyKSk7CiAgfQp9Ci8qKgogKiBSZXNvbHZlIHBhdHRlcm4gZm9yIGN1cnJlbmN5IG5hbWUKICogVE9ETzogQ3VycmVuY3lTaWduIGRvZXNuJ3QgbWF0dGVyIGhlcmUgKGFjY291bnRpbmcgb3Igc3RhbmRhcmQpLgogKiBXaGVuIGl0IGNvbWVzIHRvIHVzaW5nIGBuYW1lYCwgaXQncyBgLTEgQXVzdHJhbGlhbiBEb2xsYXJzYAogKiBpbnN0ZWFkIG9mIGAoMSBBdXN0cmFsaWFuIERvbGxhcilgCiAqIEBwYXJhbSBudW1iZXJzCiAqIEBwYXJhbSBudW1iZXJpbmdTeXN0ZW0KICogQHBhcmFtIG5vdGF0aW9uCiAqIEBwYXJhbSBkZWNpbWFsTnVtCiAqLwpmdW5jdGlvbiByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5TmFtZShudW1iZXJzLCBudW1iZXJpbmdTeXN0ZW0sIG5vdGF0aW9uLCBkZWNpbWFsTnVtKSB7CiAgdmFyIHBhdHRlcm4gPSBudW1iZXJzLmN1cnJlbmN5W251bWJlcmluZ1N5c3RlbV0udW5pdFBhdHRlcm4ucmVwbGFjZShVTklUXzFfUkVHRVgsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5TmFtZSkpOwogIHZhciBudW1iZXJQYXR0ZXJuOwogIC8vIGN1cnJlbmN5U2lnbiBkb2Vzbid0IG1hdHRlciBoZXJlIGJ1dCBub3RhdGlvbiBkb2VzCiAgc3dpdGNoIChub3RhdGlvbikgewogICAgY2FzZSAnY29tcGFjdExvbmcnOgogICAgICBudW1iZXJQYXR0ZXJuID0gcHJvY2Vzc0RlY2ltYWxDb21wYWN0U3ltYm9sKG51bWJlcnMuZGVjaW1hbFtudW1iZXJpbmdTeXN0ZW1dLmxvbmdbZGVjaW1hbE51bV0ub3RoZXIsIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jb21wYWN0TmFtZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnY29tcGFjdFNob3J0JzoKICAgICAgbnVtYmVyUGF0dGVybiA9IHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbChudW1iZXJzLmRlY2ltYWxbbnVtYmVyaW5nU3lzdGVtXS5zaG9ydFtkZWNpbWFsTnVtXS5vdGhlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3RTeW1ib2wpOwogICAgICBicmVhazsKICAgIGNhc2UgJ3NjaWVudGlmaWMnOgogICAgICBudW1iZXJQYXR0ZXJuID0gW1NDSUVOVElGSUNfUE9TSVRJVkVfUEFUVEVSTiwgU0NJRU5USUZJQ19ORUdBVElWRV9QQVRURVJOXTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdzdGFuZGFyZCc6CiAgICAgIG51bWJlclBhdHRlcm4gPSBbRFVNTVlfUE9TSVRJVkVfUEFUVEVSTiwgRFVNTVlfTkVHQVRJVkVfUEFUVEVSTl07CiAgICAgIGJyZWFrOwogIH0KICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKCd7MH0nLCBudW1iZXJQYXR0ZXJuWzBdKSArICc7JyArIHBhdHRlcm4ucmVwbGFjZSgnezB9JywgbnVtYmVyUGF0dGVyblsxXSk7Cn0KdmFyIEN1cnJlbmN5UGF0dGVybnMgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEN1cnJlbmN5UGF0dGVybnMoY3VycmVuY2llcywgbnVtYmVycywgbnVtYmVyaW5nU3lzdGVtLCBjdXJyZW5jeSwgY3VycmVuY3lTaWduKSB7CiAgICB0aGlzLmN1cnJlbmN5ID0gY3VycmVuY3k7CiAgICB0aGlzLmN1cnJlbmNpZXMgPSBjdXJyZW5jaWVzOwogICAgdGhpcy5udW1iZXJzID0gbnVtYmVyczsKICAgIHRoaXMubnVtYmVyaW5nU3lzdGVtID0gbnVtYmVyaW5nU3lzdGVtOwogICAgdGhpcy5jdXJyZW5jeVNpZ24gPSBjdXJyZW5jeVNpZ247CiAgfQogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVBhdHRlcm5zLnByb3RvdHlwZSwgImNvZGUiLCB7CiAgICAvLyBDdXJyZW5jeURpc3BsYXkKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmN1cnJlbmN5U2xvdFRva2VuID0gaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5Q29kZTsKICAgICAgdGhpcy5yZXNvbHZlZEN1cnJlbmN5ID0gdGhpcy5jdXJyZW5jeTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVBhdHRlcm5zLnByb3RvdHlwZSwgInN5bWJvbCIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmN1cnJlbmN5U2xvdFRva2VuID0gaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5U3ltYm9sOwogICAgICB0aGlzLnJlc29sdmVkQ3VycmVuY3kgPSB0aGlzLmN1cnJlbmNpZXNbdGhpcy5jdXJyZW5jeV0uc3ltYm9sOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1cnJlbmN5UGF0dGVybnMucHJvdG90eXBlLCAibmFycm93U3ltYm9sIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY3VycmVuY3lTbG90VG9rZW4gPSBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY3VycmVuY3lOYXJyb3dTeW1ib2w7CiAgICAgIHRoaXMucmVzb2x2ZWRDdXJyZW5jeSA9IHRoaXMuY3VycmVuY2llc1t0aGlzLmN1cnJlbmN5XS5uYXJyb3c7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lQYXR0ZXJucy5wcm90b3R5cGUsICJuYW1lIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY3VycmVuY3lTbG90VG9rZW4gPSBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY3VycmVuY3lOYW1lOwogICAgICB0aGlzLnJlc29sdmVkQ3VycmVuY3kgPSB0aGlzLmN1cnJlbmNpZXNbdGhpcy5jdXJyZW5jeV0uZGlzcGxheU5hbWUub3RoZXI7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lQYXR0ZXJucy5wcm90b3R5cGUsICJhY2NvdW50aW5nIiwgewogICAgLy8gQ3VycmVuY3lTaWduCiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jdXJyZW5jeVNpZ24gPSAnYWNjb3VudGluZyc7CiAgICAgIGlmICghdGhpcy5zaWduRGlzcGxheVBhdHRlcm5zKSB7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5jdXJyZW5jeVNpZ24sICdDdXJyZW5jeSBTaWduIHNob3VsZCBoYXZlIGV4aXN0ZWQnKTsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLmN1cnJlbmN5U2xvdFRva2VuLCAnQ3VycmVuY3kgU2xvdCBUb2tlbiBzaG91bGQgaGF2ZSBleGlzdGVkJyk7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5yZXNvbHZlZEN1cnJlbmN5LCAnQ3VycmVuY3kgc2hvdWxkIGhhdmUgYmVlbiByZXNvbHZlZCcpOwogICAgICAgIHRoaXMuc2lnbkRpc3BsYXlQYXR0ZXJucyA9IG5ldyBDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnModGhpcy5yZXNvbHZlZEN1cnJlbmN5LCB0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtLCB0aGlzLmN1cnJlbmN5U2lnbiwgdGhpcy5jdXJyZW5jeVNsb3RUb2tlbik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuc2lnbkRpc3BsYXlQYXR0ZXJuczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1cnJlbmN5UGF0dGVybnMucHJvdG90eXBlLCAic3RhbmRhcmQiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jdXJyZW5jeVNpZ24gPSAnc3RhbmRhcmQnOwogICAgICBpZiAoIXRoaXMuc2lnbkRpc3BsYXlQYXR0ZXJucykgewogICAgICAgIGludmFyaWFudCghIXRoaXMuY3VycmVuY3lTaWduLCAnQ3VycmVuY3kgU2lnbiBzaG91bGQgaGF2ZSBleGlzdGVkJyk7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5jdXJyZW5jeVNsb3RUb2tlbiwgJ0N1cnJlbmN5IERpc3BsYXkgc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogICAgICAgIGludmFyaWFudCghIXRoaXMucmVzb2x2ZWRDdXJyZW5jeSwgJ0N1cnJlbmN5IHNob3VsZCBoYXZlIGJlZW4gcmVzb2x2ZWQnKTsKICAgICAgICB0aGlzLnNpZ25EaXNwbGF5UGF0dGVybnMgPSBuZXcgQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zKHRoaXMucmVzb2x2ZWRDdXJyZW5jeSwgdGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgdGhpcy5jdXJyZW5jeVNpZ24sIHRoaXMuY3VycmVuY3lTbG90VG9rZW4pOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnNpZ25EaXNwbGF5UGF0dGVybnM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIHJldHVybiBDdXJyZW5jeVBhdHRlcm5zOwp9KCk7CnZhciBDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMgPSAvKiogQGNsYXNzICovZnVuY3Rpb24gKF9zdXBlcikgewogIF9fZXh0ZW5kcyhDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMsIF9zdXBlcik7CiAgZnVuY3Rpb24gQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zKHJlc29sdmVkQ3VycmVuY3ksIG51bWJlcnMsIG51bWJlcmluZ1N5c3RlbSwgY3VycmVuY3lTaWduLCBjdXJyZW5jeVNsb3RUb2tlbikgewogICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpczsKICAgIF90aGlzLmN1cnJlbmN5ID0gcmVzb2x2ZWRDdXJyZW5jeTsKICAgIF90aGlzLm51bWJlcnMgPSBudW1iZXJzOwogICAgX3RoaXMubnVtYmVyaW5nU3lzdGVtID0gbnVtYmVyaW5nU3lzdGVtOwogICAgX3RoaXMuY3VycmVuY3lTaWduID0gY3VycmVuY3lTaWduOwogICAgX3RoaXMuY3VycmVuY3lTbG90VG9rZW4gPSBjdXJyZW5jeVNsb3RUb2tlbjsKICAgIHJldHVybiBfdGhpczsKICB9CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1cnJlbmN5U2lnbkRpc3BsYXlQYXR0ZXJucy5wcm90b3R5cGUsICJhbHdheXMiLCB7CiAgICAvLyBTaWduIERpc3BsYXkKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2Fsd2F5cyc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zLnByb3RvdHlwZSwgImF1dG8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdhdXRvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMucHJvdG90eXBlLCAibmV2ZXIiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICduZXZlcic7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zLnByb3RvdHlwZSwgImV4Y2VwdFplcm8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdleGNlcHRaZXJvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMucHJvdG90eXBlLCAic3RhbmRhcmQiLCB7CiAgICAvLyBOb3RhdGlvbgogICAgLy8gU3RhbmRhcmQgY3VycmVuY3kgc2lnbgogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIGludmFyaWFudCghIXRoaXMuY3VycmVuY3lTaWduLCAnQ3VycmVuY3kgc2lnbiBzaG91bGQgZXhpc3QnKTsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLnNpZ25EaXNwbGF5LCAnU2lnbiBkaXNwbGF5IG11c3QgZXhpc3QnKTsKICAgICAgICB2YXIgcGF0dGVybiA9ICcnOwogICAgICAgIC8vIG5hbWUgLT4gc3RhbmRhcmQgLT4gc3RhbmRhcmQKICAgICAgICAvLyBuYW1lIC0+IGFjY291bnRpbmcgLT4gc3RhbmRhcmQKICAgICAgICBpZiAodGhpcy5jdXJyZW5jeVNsb3RUb2tlbiA9PT0gaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5TmFtZSkgewogICAgICAgICAgcGF0dGVybiA9IHJlc29sdmVQYXR0ZXJuRm9yQ3VycmVuY3lOYW1lKHRoaXMubnVtYmVycywgdGhpcy5udW1iZXJpbmdTeXN0ZW0sICdzdGFuZGFyZCcsICcxMDAwJyAvLyBkdW1teQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgLy8gY29kZSAtPiBzdGFuZGFyZCAtPiBzdGFuZGFyZAogICAgICAgIC8vIGNvZGUgLT4gYWNjb3VudGluZyAtPiBzdGFuZGFyZAogICAgICAgIC8vIHN5bWJvbCAtPiBzdGFuZGFyZCAtPiBzdGFuZGFyZAogICAgICAgIC8vIHN5bWJvbCAtPiBhY2NvdW50aW5nIC0+IHN0YW5kYXJkCiAgICAgICAgLy8gbmFycm93U3ltYm9sIC0+IHN0YW5kYXJkIC0+IHN0YW5kYXJkCiAgICAgICAgLy8gbmFycm93U3ltYm9sIC0+IGFjY291bnRpbmcgLT4gc3RhbmRhcmQKICAgICAgICBlbHNlIHsKICAgICAgICAgIHBhdHRlcm4gPSByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5Q29kZSh0aGlzLmN1cnJlbmN5LCB0aGlzLm51bWJlcnMuY3VycmVuY3lbdGhpcy5udW1iZXJpbmdTeXN0ZW1dLCAnc3RhbmRhcmQnLCB0aGlzLmN1cnJlbmN5U2lnbiwgJzEwMDAnIC8vIGR1bW15CiAgICAgICAgICApLnJlcGxhY2UoQ1VSUkVOQ1lfU1lNQk9MX1JFR0VYLCBzZXJpYWxpemVTbG90VG9rZW5zKHRoaXMuY3VycmVuY3lTbG90VG9rZW4pKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zaWduUGF0dGVybiA9IHByb2R1Y2VTaWduUGF0dGVybihwYXR0ZXJuLCB0aGlzLnNpZ25EaXNwbGF5KTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1cnJlbmN5U2lnbkRpc3BsYXlQYXR0ZXJucy5wcm90b3R5cGUsICJzY2llbnRpZmljIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIGludmFyaWFudCghIXRoaXMuY3VycmVuY3lTaWduLCAnQ3VycmVuY3kgc2lnbiBzaG91bGQgZXhpc3QnKTsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLnNpZ25EaXNwbGF5LCAnU2lnbiBkaXNwbGF5IG11c3QgZXhpc3QnKTsKICAgICAgICB2YXIgcGF0dGVybiA9ICcnOwogICAgICAgIC8vIG5hbWUgLT4gc3RhbmRhcmQgLT4gc2NpZW50aWZpYwogICAgICAgIC8vIG5hbWUgLT4gYWNjb3VudGluZyAtPiBzY2llbnRpZmljCiAgICAgICAgaWYgKHRoaXMuY3VycmVuY3lTbG90VG9rZW4gPT09IGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jdXJyZW5jeU5hbWUpIHsKICAgICAgICAgIHBhdHRlcm4gPSByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5TmFtZSh0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtLCAnc2NpZW50aWZpYycsICcxMDAwJyAvLyBkdW1teQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgLy8gY29kZSAtPiBzdGFuZGFyZCAtPiBzY2llbnRpZmljCiAgICAgICAgLy8gY29kZSAtPiBhY2NvdW50aW5nIC0+IHNjaWVudGlmaWMKICAgICAgICAvLyBzeW1ib2wgLT4gc3RhbmRhcmQgLT4gc2NpZW50aWZpYwogICAgICAgIC8vIHN5bWJvbCAtPiBhY2NvdW50aW5nIC0+IHNjaWVudGlmaWMKICAgICAgICAvLyBuYXJyb3dTeW1ib2wgLT4gc3RhbmRhcmQgLT4gc2NpZW50aWZpYwogICAgICAgIC8vIG5hcnJvd1N5bWJvbCAtPiBhY2NvdW50aW5nIC0+IHNjaWVudGlmaWMKICAgICAgICBlbHNlIHsKICAgICAgICAgIHBhdHRlcm4gPSByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5Q29kZSh0aGlzLmN1cnJlbmN5LCB0aGlzLm51bWJlcnMuY3VycmVuY3lbdGhpcy5udW1iZXJpbmdTeXN0ZW1dLCAnc2NpZW50aWZpYycsIHRoaXMuY3VycmVuY3lTaWduLCAnMTAwMCcgLy8gZHVtbXkKICAgICAgICAgICkucmVwbGFjZShDVVJSRU5DWV9TWU1CT0xfUkVHRVgsIHNlcmlhbGl6ZVNsb3RUb2tlbnModGhpcy5jdXJyZW5jeVNsb3RUb2tlbikpOwogICAgICAgIH0KICAgICAgICB0aGlzLnNpZ25QYXR0ZXJuID0gcHJvZHVjZVNpZ25QYXR0ZXJuKHBhdHRlcm4sIHRoaXMuc2lnbkRpc3BsYXkpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnNpZ25QYXR0ZXJuOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMucHJvdG90eXBlLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4gPSBmdW5jdGlvbiAoZGVjaW1hbE51bSkgewogICAgaWYgKCF0aGlzLmNvbXBhY3RTaWduUGF0dGVybikgewogICAgICB0aGlzLmNvbXBhY3RTaWduUGF0dGVybiA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICB9CiAgICB2YXIgY29tcGFjdFNpZ25QYXR0ZXJucyA9IHRoaXMuY29tcGFjdFNpZ25QYXR0ZXJuOwogICAgaWYgKCFjb21wYWN0U2lnblBhdHRlcm5zW2RlY2ltYWxOdW1dKSB7CiAgICAgIGludmFyaWFudCghIXRoaXMuY3VycmVuY3lTaWduLCAnQ3VycmVuY3kgc2lnbiBzaG91bGQgZXhpc3QnKTsKICAgICAgaW52YXJpYW50KCEhdGhpcy5zaWduRGlzcGxheSwgJ1NpZ24gZGlzcGxheSBtdXN0IGV4aXN0Jyk7CiAgICAgIHZhciBwYXR0ZXJuID0gJyc7CiAgICAgIC8vIG5hbWUgLT4gc3RhbmRhcmQgLT4gY29tcGFjdCAtPiBjb21wYWN0TG9uZwogICAgICAvLyBuYW1lIC0+IGFjY291bnRpbmcgLT4gY29tcGFjdCAtPiBjb21wYWN0U2hvcnQKICAgICAgaWYgKHRoaXMuY3VycmVuY3lTbG90VG9rZW4gPT09IGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jdXJyZW5jeU5hbWUpIHsKICAgICAgICBwYXR0ZXJuID0gcmVzb2x2ZVBhdHRlcm5Gb3JDdXJyZW5jeU5hbWUodGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgdGhpcy5ub3RhdGlvbiwgZGVjaW1hbE51bSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGF0dGVybiA9IHJlc29sdmVQYXR0ZXJuRm9yQ3VycmVuY3lDb2RlKHRoaXMuY3VycmVuY3ksIHRoaXMubnVtYmVycy5jdXJyZW5jeVt0aGlzLm51bWJlcmluZ1N5c3RlbV0sIHRoaXMubm90YXRpb24sIHRoaXMuY3VycmVuY3lTaWduLCBkZWNpbWFsTnVtKS5yZXBsYWNlKENVUlJFTkNZX1NZTUJPTF9SRUdFWCwgc2VyaWFsaXplU2xvdFRva2Vucyh0aGlzLmN1cnJlbmN5U2xvdFRva2VuKSk7CiAgICAgIH0KICAgICAgY29tcGFjdFNpZ25QYXR0ZXJuc1tkZWNpbWFsTnVtXSA9IHByb2Nlc3NTaWduUGF0dGVybihwcm9kdWNlU2lnblBhdHRlcm4ocGF0dGVybiwgdGhpcy5zaWduRGlzcGxheSksIGZ1bmN0aW9uIChwYXR0ZXJuKSB7CiAgICAgICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvMCsvLCAne251bWJlcn0nKTsKICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gY29tcGFjdFNpZ25QYXR0ZXJuc1tkZWNpbWFsTnVtXTsKICB9OwogIHJldHVybiBDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnM7Cn0oTm90YXRpb25QYXR0ZXJucyk7"},{"version":3,"mappings":"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","names":["invariant","condition","message","Err","S_UNICODE_REGEX","CURRENCY_SYMBOL_REGEX","UNIT_1_REGEX","UNIT_0_REGEX","extractDecimalFormatILD","data","Object","keys","reduce","all","num","pattern","p","replace","trim","other","create","extractLDMLPluralRuleMap","m","k","rule","extractILD","units","currencies","numbers","numberingSystem","decimal","compactShort","short","compactLong","long","currency","symbols","currencySymbols","code","currencyName","displayName","currencySymbol","symbol","currencyNarrowSymbol","narrow","unitSymbols","unit","unitSymbol","unitNarrowSymbol","unitName","exports","serializeSlotTokens","tokens","Array","isArray","map","t","join","NUMBER_PATTERN","SCIENTIFIC_POSITIVE_PATTERN","intl_utils_1","number","scientificSeparator","scientificExponent","SCIENTIFIC_NEGATIVE_PATTERN","minusSign","DUMMY_POSITIVE_PATTERN","DUMMY_NEGATIVE_PATTERN","DUMMY_PATTERN","SCIENTIFIC_PATTERN","processDecimalCompactSymbol","slotToken","compactSymbol","compactUnit","negativePattern","indexOf","processCurrencyCompactSymbol","INSERT_BEFORE_PATTERN_REGEX","INSERT_AFTER_PATTERN_REGEX","shouldInsertBefore","test","shouldInsertAfter","length","insertBetween","insertBetweenChar","currencySign","_unit","_currency","Patterns","decimalPatterns","DecimalPatterns","percentPatterns","PercentPatterns","unitPatterns","UnitPatterns","currencyPatterns","CurrencyPatterns","processSignPattern","signPattern","fn","positivePattern","zeroPattern","produceSignPattern","patterns","signDisplay","noSignPattern","alwaysPositivePattern","plusSign","NotationPatterns","notation","produceCompactSignPattern","__extends","_super","_this","decimalNum","compactSignPattern","compactName","isScientific","percent","percentSign","generateStandardOrScientificPattern","compactSignPatterns","compactPattern","resolvePatternForCurrencyCode","resolvedCurrency","shortPattern","longPattern","standard","currencySpacing","beforeInsertBetween","accounting","resolvePatternForCurrencyName","unitPattern","numberPattern","currencySlotToken","currencyCode","signDisplayPatterns","CurrencySignDisplayPatterns"],"sourceRoot":"","sources":["../src/data.ts"],"sourcesContent":[null]}]}