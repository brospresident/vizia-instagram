{"remainingRequest":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/get-intl-options.js","dependencies":[{"path":"/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/get-intl-options.js","mtime":1664781785127},{"path":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKY29uc3QgaW50bE51bWJlckZvcm1hdFVuaXRzID0gcmVxdWlyZSgnLi9pbnRsLW51bWJlci1mb3JtYXQtdW5pdHMnKTsKCmNvbnN0IHNob3VsZEFiYnIgPSAodmFsdWUsIF9yZWYpID0+IHsKICBsZXQgewogICAgYWJiclRocmVzaG9sZCwKICAgIGFiYnIKICB9ID0gX3JlZjsKICByZXR1cm4gYWJiciAmJiBNYXRoLmFicyh2YWx1ZSkgPj0gYWJiclRocmVzaG9sZDsKfTsKLyoqCiAqIEJ1aWxkIEludGwgTnVtYmVyRm9ybWF0IG9wdGlvbnMgb2JqZWN0LCBiYXNlZCBvbiB2YWx1ZSBhbmQgcHJvcHMKICovCgoKY29uc3QgZ2V0SW50bE9wdGlvbnMgPSAodmFsdWUsIHByb3BzKSA9PiB7CiAgY29uc3QgewogICAgZm9ybWF0LAogICAgY3VycmVuY3ksCiAgICB1bml0RGlzcGxheQogIH0gPSBwcm9wczsKICByZXR1cm4gWy8vIERldGVybWluZSBiYXNlIHN0eWxlIG9wdGlvbnMKICAoKSA9PiB7CiAgICBpZiAoWydwZXJjZW50JywgJ2N1cnJlbmN5J10uaW5jbHVkZXMoZm9ybWF0KSkgewogICAgICByZXR1cm4gewogICAgICAgIHN0eWxlOiBmb3JtYXQKICAgICAgfTsKICAgIH0gZWxzZSBpZiAoaW50bE51bWJlckZvcm1hdFVuaXRzLmluY2x1ZGVzKGZvcm1hdCkpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBzdHlsZTogJ3VuaXQnLAogICAgICAgIHVuaXQ6IGZvcm1hdAogICAgICB9OwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIHN0eWxlOiAnZGVjaW1hbCcKICAgIH07CiAgfSwgLy8gVW5pdCBvcHRpb25zCiAgKCkgPT4gKHsKICAgIHVuaXREaXNwbGF5LAogICAgY3VycmVuY3lEaXNwbGF5OiAnc3ltYm9sJywKICAgIGN1cnJlbmN5CiAgfSksIC8vIEdyYW51bGFyaXR5IG9wdGlvbnMKICAodmFsdWUsIHByb3BzKSA9PiB7CiAgICBjb25zdCB7CiAgICAgIG1hbnRpc3NhLAogICAgICB0cmltTWFudGlzc2EKICAgIH0gPSBwcm9wczsKICAgIGNvbnN0IHZhbHVlSXNQYXNzZWRUaHJlc2hvbGQgPSBzaG91bGRBYmJyKHZhbHVlLCBwcm9wcyk7CgogICAgY29uc3QgbWluaW11bUZyYWN0aW9uRGlnaXRzID0gKCgpID0+IHsKICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIodmFsdWUpKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0gZWxzZSBpZiAodHJpbU1hbnRpc3NhID09PSBmYWxzZSAmJiAhdmFsdWVJc1Bhc3NlZFRocmVzaG9sZCkgewogICAgICAgIHJldHVybiBtYW50aXNzYTsKICAgICAgfQoKICAgICAgcmV0dXJuIG51bGw7CiAgICB9KSgpOwoKICAgIHJldHVybiB7CiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0cywKICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBtYW50aXNzYSwKICAgICAgbm90YXRpb246IHZhbHVlSXNQYXNzZWRUaHJlc2hvbGQgPyAnY29tcGFjdCcgOiAnc3RhbmRhcmQnCiAgICB9OwogIH1dLnJlZHVjZSgocmVzdWx0LCBwcm9jZXNzb3IpID0+IE9iamVjdC5hc3NpZ24oe30sIHJlc3VsdCwgcHJvY2Vzc29yKHZhbHVlLCBwcm9wcykpLCB7fSk7Cn07Cgptb2R1bGUuZXhwb3J0cyA9IGdldEludGxPcHRpb25zOw=="},{"version":3,"names":["intlNumberFormatUnits","require","shouldAbbr","value","abbrThreshold","abbr","Math","abs","getIntlOptions","props","format","currency","unitDisplay","includes","style","unit","currencyDisplay","mantissa","trimMantissa","valueIsPassedThreshold","minimumFractionDigits","Number","isInteger","maximumFractionDigits","notation","reduce","result","processor","Object","assign","module","exports"],"sources":["/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/get-intl-options.js"],"sourcesContent":["'use strict';\n\nconst intlNumberFormatUnits = require('./intl-number-format-units');\n\nconst shouldAbbr = (value, {abbrThreshold, abbr}) => abbr && Math.abs(value) >= abbrThreshold;\n\n/**\n * Build Intl NumberFormat options object, based on value and props\n */\nconst getIntlOptions = (value, props) => {\n    const {format, currency, unitDisplay} = props;\n\n    return [\n        // Determine base style options\n        () => {\n            if (['percent', 'currency'].includes(format)) {\n                return {\n                    style: format\n                };\n            } else if (intlNumberFormatUnits.includes(format)) {\n                return {\n                    style: 'unit',\n                    unit: format\n                };\n            }\n            return {\n                style: 'decimal'\n            };\n        },\n        // Unit options\n        () => ({\n            unitDisplay,\n            currencyDisplay: 'symbol',\n            currency\n        }),\n        // Granularity options\n        (value, props) => {\n            const {mantissa, trimMantissa} = props;\n            const valueIsPassedThreshold = shouldAbbr(value, props);\n            const minimumFractionDigits = (() => {\n                if (Number.isInteger(value)) {\n                    return 0;\n                } else if (trimMantissa === false && !valueIsPassedThreshold) {\n                    return mantissa;\n                }\n                return null;\n            })();\n            return {\n                minimumFractionDigits,\n                maximumFractionDigits: mantissa,\n                notation: valueIsPassedThreshold ? 'compact' : 'standard'\n            };\n        }\n    ]\n        .reduce((result, processor) => Object.assign({}, result, processor(value, props)), {});\n};\n\nmodule.exports = getIntlOptions;\n"],"mappings":"AAAA;;AAEA,MAAMA,qBAAqB,GAAGC,OAAO,CAAC,4BAAD,CAArC;;AAEA,MAAMC,UAAU,GAAG,CAACC,KAAD;EAAA,IAAQ;IAACC,aAAD;IAAgBC;EAAhB,CAAR;EAAA,OAAkCA,IAAI,IAAIC,IAAI,CAACC,GAAL,CAASJ,KAAT,KAAmBC,aAA7D;AAAA,CAAnB;AAEA;AACA;AACA;;;AACA,MAAMI,cAAc,GAAG,CAACL,KAAD,EAAQM,KAAR,KAAkB;EACrC,MAAM;IAACC,MAAD;IAASC,QAAT;IAAmBC;EAAnB,IAAkCH,KAAxC;EAEA,OAAO,CACH;EACA,MAAM;IACF,IAAI,CAAC,SAAD,EAAY,UAAZ,EAAwBI,QAAxB,CAAiCH,MAAjC,CAAJ,EAA8C;MAC1C,OAAO;QACHI,KAAK,EAAEJ;MADJ,CAAP;IAGH,CAJD,MAIO,IAAIV,qBAAqB,CAACa,QAAtB,CAA+BH,MAA/B,CAAJ,EAA4C;MAC/C,OAAO;QACHI,KAAK,EAAE,MADJ;QAEHC,IAAI,EAAEL;MAFH,CAAP;IAIH;;IACD,OAAO;MACHI,KAAK,EAAE;IADJ,CAAP;EAGH,CAhBE,EAiBH;EACA,OAAO;IACHF,WADG;IAEHI,eAAe,EAAE,QAFd;IAGHL;EAHG,CAAP,CAlBG,EAuBH;EACA,CAACR,KAAD,EAAQM,KAAR,KAAkB;IACd,MAAM;MAACQ,QAAD;MAAWC;IAAX,IAA2BT,KAAjC;IACA,MAAMU,sBAAsB,GAAGjB,UAAU,CAACC,KAAD,EAAQM,KAAR,CAAzC;;IACA,MAAMW,qBAAqB,GAAG,CAAC,MAAM;MACjC,IAAIC,MAAM,CAACC,SAAP,CAAiBnB,KAAjB,CAAJ,EAA6B;QACzB,OAAO,CAAP;MACH,CAFD,MAEO,IAAIe,YAAY,KAAK,KAAjB,IAA0B,CAACC,sBAA/B,EAAuD;QAC1D,OAAOF,QAAP;MACH;;MACD,OAAO,IAAP;IACH,CAP6B,GAA9B;;IAQA,OAAO;MACHG,qBADG;MAEHG,qBAAqB,EAAEN,QAFpB;MAGHO,QAAQ,EAAEL,sBAAsB,GAAG,SAAH,GAAe;IAH5C,CAAP;EAKH,CAxCE,EA0CFM,MA1CE,CA0CK,CAACC,MAAD,EAASC,SAAT,KAAuBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,MAAlB,EAA0BC,SAAS,CAACxB,KAAD,EAAQM,KAAR,CAAnC,CA1C5B,EA0CgF,EA1ChF,CAAP;AA2CH,CA9CD;;AAgDAqB,MAAM,CAACC,OAAP,GAAiBvB,cAAjB"}]}