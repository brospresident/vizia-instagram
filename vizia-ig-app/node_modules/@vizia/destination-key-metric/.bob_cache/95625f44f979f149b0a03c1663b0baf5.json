{"remainingRequest":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/parse-value.js","dependencies":[{"path":"/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/parse-value.js","mtime":1664781785127},{"path":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/64608/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKLyoqCiAqIFBhcnNlcyBudW1iZXIgYWNjb3JkaW5nIHRvIHRoZSBwcm92aWRlZCBsb2NhbGUsIHNvIHRoYXQgZGVsaW1pdGVycyBldGMgYXJlIGludGVycHJldGVkIHByb3Blcmx5CiAqLwpjb25zdCBjcmVhdGVQYXJzZU51bWJlciA9IGxvY2FsZSA9PiB7CiAgY29uc3QgcGFydHMgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlKS5mb3JtYXRUb1BhcnRzKDEyMzQ1LjYpOwogIGNvbnN0IG51bWVyYWxzID0gWy4uLm5ldyBJbnRsLk51bWJlckZvcm1hdChsb2NhbGUsIHsKICAgIHVzZUdyb3VwaW5nOiBmYWxzZQogIH0pLmZvcm1hdCg5ODc2NTQzMjEwKV0ucmV2ZXJzZSgpOwogIGNvbnN0IG51bWVyYWxJbmRleE1hcCA9IG5ldyBNYXAobnVtZXJhbHMubWFwKChudW1lcmFsLCBpKSA9PiBbbnVtZXJhbCwgaV0pKTsKICBjb25zdCBncm91cFRlc3QgPSBuZXcgUmVnRXhwKGBbJHtwYXJ0cy5maW5kKGQgPT4gZC50eXBlID09PSAnZ3JvdXAnKS52YWx1ZX1dYCwgJ2cnKTsKICBjb25zdCBkZWNpbWFsVGVzdCA9IG5ldyBSZWdFeHAoYFske3BhcnRzLmZpbmQoZCA9PiBkLnR5cGUgPT09ICdkZWNpbWFsJykudmFsdWV9XWApOwogIGNvbnN0IG51bWVyYWxUZXN0ID0gbmV3IFJlZ0V4cChgWyR7bnVtZXJhbHMuam9pbignJyl9XWAsICdnJyk7CiAgY29uc3Qgb3RoZXJUZXN0ID0gbmV3IFJlZ0V4cCgnW14wLTktLl0nLCAnZycpOwogIHJldHVybiB2YWx1ZSA9PiB7CiAgICAvLyBTYW5pdGlzZXMgdG8gc3RyaW5nIHBhcnNlYWJsZSBhcyBKYXZhU2NyaXB0IGZsb2F0CiAgICBjb25zdCBzYW5pdGl6ZWQgPSB2YWx1ZS50cmltKCkKICAgIC8vIFN0cmlwIGdyb3VwIHNlcGVyYXRvciAoZGVsaW1pdGVyKQogICAgLnJlcGxhY2UoZ3JvdXBUZXN0LCAnJykKICAgIC8vIFJlcGxhY2UgbG9jYWxlIGRlY2ltYWwgd2l0aCBzdGFuZGFyZCBkZWNpbWFsCiAgICAucmVwbGFjZShkZWNpbWFsVGVzdCwgJy4nKQogICAgLy8gUmVwbGFjZSBsb2NhbGUgbnVtZXJhbHMgd2l0aCBzdGFuZGFyZCBudW1lcmFscwogICAgLnJlcGxhY2UobnVtZXJhbFRlc3QsIG51bWVyYWwgPT4gbnVtZXJhbEluZGV4TWFwLmdldChudW1lcmFsKSkKICAgIC8vIEZpbmFsbHksIHN0cmlwIG91dCBhbGwgb3RoZXIgY2hhcmFjdGVycwogICAgLnJlcGxhY2Uob3RoZXJUZXN0LCAnJyk7CiAgICByZXR1cm4gcGFyc2VGbG9hdChzYW5pdGl6ZWQpIHx8IE5hTjsKICB9Owp9OwoKLyoqCiAqIFBhcnNlcyB2YWx1ZSB0byBudW1lcmljCiAqIElmIGl0J3MgYSBzdHJpbmcsIGl0IHdpbGwgYXR0ZW1wdCB0byBleHRyYWN0IHRoZSBudW1lcmljIHZhbHVlCiAqIE90aGVyd2lzZSwgaXQncyBOYU4KICovCmNvbnN0IHBhcnNlVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICBsZXQgewogICAgbG9jYWxlID0gJ2VuJwogIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CiAgICBjb25zdCBwYXJzZU51bWJlciA9IGNyZWF0ZVBhcnNlTnVtYmVyKGxvY2FsZSk7CiAgICByZXR1cm4gcGFyc2VOdW1iZXIodmFsdWUpOwogIH0gZWxzZSBpZiAoTnVtYmVyLmlzRmluaXRlKHZhbHVlKSkgewogICAgcmV0dXJuIHZhbHVlOwogIH0KICByZXR1cm4gTmFOOwp9Owptb2R1bGUuZXhwb3J0cyA9IHBhcnNlVmFsdWU7"},{"version":3,"names":["createParseNumber","locale","parts","Intl","NumberFormat","formatToParts","numerals","useGrouping","format","reverse","numeralIndexMap","Map","map","numeral","i","groupTest","RegExp","find","d","type","value","decimalTest","numeralTest","join","otherTest","sanitized","trim","replace","get","parseFloat","NaN","parseValue","parseNumber","Number","isFinite","module","exports"],"sources":["/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/format/src/lib/parse-value.js"],"sourcesContent":["'use strict';\n\n/**\n * Parses number according to the provided locale, so that delimiters etc are interpreted properly\n */\nconst createParseNumber = (locale) => {\n    const parts = new Intl.NumberFormat(locale).formatToParts(12345.6);\n    const numerals = [\n        ...new Intl.NumberFormat(locale, {useGrouping: false}).format(9876543210)\n    ].reverse();\n    const numeralIndexMap = new Map(numerals.map((numeral, i) => [numeral, i]));\n\n    const groupTest = new RegExp(`[${parts.find(d => d.type === 'group').value}]`, 'g');\n    const decimalTest = new RegExp(`[${parts.find(d => d.type === 'decimal').value}]`);\n    const numeralTest = new RegExp(`[${numerals.join('')}]`, 'g');\n    const otherTest = new RegExp('[^0-9-.]', 'g');\n\n    return (value) => {\n        // Sanitises to string parseable as JavaScript float\n        const sanitized = value\n            .trim()\n            // Strip group seperator (delimiter)\n            .replace(groupTest, '')\n            // Replace locale decimal with standard decimal\n            .replace(decimalTest, '.')\n            // Replace locale numerals with standard numerals\n            .replace(numeralTest, (numeral) => numeralIndexMap.get(numeral))\n            // Finally, strip out all other characters\n            .replace(otherTest, '');\n\n        return parseFloat(sanitized) || NaN;\n    };\n};\n\n/**\n * Parses value to numeric\n * If it's a string, it will attempt to extract the numeric value\n * Otherwise, it's NaN\n */\nconst parseValue = (value, {locale = 'en'} = {}) => {\n    if (typeof value === 'string') {\n        const parseNumber = createParseNumber(locale);\n        return parseNumber(value);\n    } else if (Number.isFinite(value)) {\n        return value;\n    }\n    return NaN;\n};\n\nmodule.exports = parseValue;\n"],"mappings":"AAAA,YAAY;;AAEZ;AACA;AACA;AACA,MAAMA,iBAAiB,GAAIC,MAAM,IAAK;EAClC,MAAMC,KAAK,GAAG,IAAIC,IAAI,CAACC,YAAY,CAACH,MAAM,CAAC,CAACI,aAAa,CAAC,OAAO,CAAC;EAClE,MAAMC,QAAQ,GAAG,CACb,GAAG,IAAIH,IAAI,CAACC,YAAY,CAACH,MAAM,EAAE;IAACM,WAAW,EAAE;EAAK,CAAC,CAAC,CAACC,MAAM,CAAC,UAAU,CAAC,CAC5E,CAACC,OAAO,EAAE;EACX,MAAMC,eAAe,GAAG,IAAIC,GAAG,CAACL,QAAQ,CAACM,GAAG,CAAC,CAACC,OAAO,EAAEC,CAAC,KAAK,CAACD,OAAO,EAAEC,CAAC,CAAC,CAAC,CAAC;EAE3E,MAAMC,SAAS,GAAG,IAAIC,MAAM,CAAE,IAAGd,KAAK,CAACe,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,OAAO,CAAC,CAACC,KAAM,GAAE,EAAE,GAAG,CAAC;EACnF,MAAMC,WAAW,GAAG,IAAIL,MAAM,CAAE,IAAGd,KAAK,CAACe,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,SAAS,CAAC,CAACC,KAAM,GAAE,CAAC;EAClF,MAAME,WAAW,GAAG,IAAIN,MAAM,CAAE,IAAGV,QAAQ,CAACiB,IAAI,CAAC,EAAE,CAAE,GAAE,EAAE,GAAG,CAAC;EAC7D,MAAMC,SAAS,GAAG,IAAIR,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC;EAE7C,OAAQI,KAAK,IAAK;IACd;IACA,MAAMK,SAAS,GAAGL,KAAK,CAClBM,IAAI;IACL;IAAA,CACCC,OAAO,CAACZ,SAAS,EAAE,EAAE;IACtB;IAAA,CACCY,OAAO,CAACN,WAAW,EAAE,GAAG;IACzB;IAAA,CACCM,OAAO,CAACL,WAAW,EAAGT,OAAO,IAAKH,eAAe,CAACkB,GAAG,CAACf,OAAO,CAAC;IAC/D;IAAA,CACCc,OAAO,CAACH,SAAS,EAAE,EAAE,CAAC;IAE3B,OAAOK,UAAU,CAACJ,SAAS,CAAC,IAAIK,GAAG;EACvC,CAAC;AACL,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMC,UAAU,GAAG,UAACX,KAAK,EAA2B;EAAA,IAAzB;IAACnB,MAAM,GAAG;EAAI,CAAC,uEAAG,CAAC,CAAC;EAC3C,IAAI,OAAOmB,KAAK,KAAK,QAAQ,EAAE;IAC3B,MAAMY,WAAW,GAAGhC,iBAAiB,CAACC,MAAM,CAAC;IAC7C,OAAO+B,WAAW,CAACZ,KAAK,CAAC;EAC7B,CAAC,MAAM,IAAIa,MAAM,CAACC,QAAQ,CAACd,KAAK,CAAC,EAAE;IAC/B,OAAOA,KAAK;EAChB;EACA,OAAOU,GAAG;AACd,CAAC;AAEDK,MAAM,CAACC,OAAO,GAAGL,UAAU"}]}