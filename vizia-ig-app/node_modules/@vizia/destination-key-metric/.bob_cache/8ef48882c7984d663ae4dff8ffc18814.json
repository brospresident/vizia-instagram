{"remainingRequest":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/destination-key-metric/src/lib/create-destination.js","dependencies":[{"path":"/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/destination-key-metric/src/lib/create-destination.js","mtime":1664781785152},{"path":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKY29uc3QgcmVzb2x2ZVByb3BzID0gcmVxdWlyZSgnQHZpemlhL3Jlc29sdmUtcHJvcHMnKTsKCmNvbnN0IEFwcCA9IHJlcXVpcmUoJy4vYXBwJyk7Ci8qKgogKiBEZXN0aW5hdGlvbiBmYWN0b3J5LCBtYW5hZ2VzIGFwcCBpbnN0YW5jZSBhbmQgcGlwZWxpbmUgcHVzaGVzCiAqLwoKCmZ1bmN0aW9uIGNyZWF0ZURlc3RpbmF0aW9uKG9wdGlvbnMpIHsKICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7CiAgcmV0dXJuIHsKICAgIGRlc3RpbmF0aW9uKGRhdGEsIHBpcGVsaW5lKSB7CiAgICAgIGNvbnN0IHByb3BzID0gcmVzb2x2ZVByb3BzKHBpcGVsaW5lLmNvbmZpZywgb3B0aW9ucyk7CiAgICAgIGFwcC51cGRhdGVDb25maWcocHJvcHMpOwogICAgICBhcHAudXBkYXRlRGF0YShkYXRhKTsKICAgICAgcGlwZWxpbmUuZG9uZSgpOwogICAgfQoKICB9Owp9Cgptb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZURlc3RpbmF0aW9uOw=="},{"version":3,"names":["resolveProps","require","App","createDestination","options","app","destination","data","pipeline","props","config","updateConfig","updateData","done","module","exports"],"sources":["/Users/pantu/work2/vizia-ig-app/node_modules/@vizia/destination-key-metric/src/lib/create-destination.js"],"sourcesContent":["'use strict';\n\nconst resolveProps = require('@vizia/resolve-props');\n\nconst App = require('./app');\n\n/**\n * Destination factory, manages app instance and pipeline pushes\n */\nfunction createDestination(options) {\n    const app = new App();\n\n    return {\n        destination(data, pipeline) {\n            const props = resolveProps(pipeline.config, options);\n\n            app.updateConfig(props);\n            app.updateData(data);\n\n            pipeline.done();\n        }\n    };\n}\n\nmodule.exports = createDestination;\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,sBAAD,CAA5B;;AAEA,MAAMC,GAAG,GAAGD,OAAO,CAAC,OAAD,CAAnB;AAEA;AACA;AACA;;;AACA,SAASE,iBAAT,CAA2BC,OAA3B,EAAoC;EAChC,MAAMC,GAAG,GAAG,IAAIH,GAAJ,EAAZ;EAEA,OAAO;IACHI,WAAW,CAACC,IAAD,EAAOC,QAAP,EAAiB;MACxB,MAAMC,KAAK,GAAGT,YAAY,CAACQ,QAAQ,CAACE,MAAV,EAAkBN,OAAlB,CAA1B;MAEAC,GAAG,CAACM,YAAJ,CAAiBF,KAAjB;MACAJ,GAAG,CAACO,UAAJ,CAAeL,IAAf;MAEAC,QAAQ,CAACK,IAAT;IACH;;EARE,CAAP;AAUH;;AAEDC,MAAM,CAACC,OAAP,GAAiBZ,iBAAjB"}]}