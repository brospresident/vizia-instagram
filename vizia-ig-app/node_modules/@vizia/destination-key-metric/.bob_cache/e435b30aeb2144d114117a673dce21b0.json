{"remainingRequest":"/Users/pantu/.npm/_npx/5593/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia/node_modules/@vizia/destination-key-metric/src/lib/reducer.js","dependencies":[{"path":"/Users/pantu/work2/vizia/node_modules/@vizia/destination-key-metric/src/lib/reducer.js","mtime":1664781785152},{"path":"/Users/pantu/.npm/_npx/5593/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/5593/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwovKioKICogVXBkYXRlIGNvbmZpZwogKiBGaWx0ZXJzIG91dCBpcnJlbGV2YW50IHByb3BzIHRoYXQgZG8gbm90IGhhdmUgYW4gaW5pdGlhbCBzdGF0ZSBpbiB0aGUgc3RvcmUKICovCgpmdW5jdGlvbiBVUERBVEVfQ09ORklHKHN0YXRlLCBwcm9wcykgewogIGNvbnN0IGNvbmZpZ0tleXMgPSBPYmplY3Qua2V5cyhzdGF0ZS5jb25maWcpOwogIGNvbnN0IGZpbHRlcmVkUHJvcHMgPSBPYmplY3Qua2V5cyhwcm9wcykuZmlsdGVyKHByb3BzS2V5ID0+IGNvbmZpZ0tleXMuaW5jbHVkZXMocHJvcHNLZXkpKS5yZWR1Y2UoKG1lbW8sIHByb3BzS2V5KSA9PiBPYmplY3QuYXNzaWduKG1lbW8sIHsKICAgIFtwcm9wc0tleV06IHByb3BzW3Byb3BzS2V5XQogIH0pLCB7fSk7CgogIGlmICghT2JqZWN0LmtleXMoZmlsdGVyZWRQcm9wcykubGVuZ3RoKSB7CiAgICByZXR1cm4gc3RhdGU7CiAgfQoKICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIHsKICAgIGNvbmZpZzogT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuY29uZmlnLCBmaWx0ZXJlZFByb3BzKQogIH0pOwp9Ci8qKgogKiBVcGRhdGVzIHRoZSB2aXN1YWxpc2F0aW9uJ3MgZGF0YQogKi8KCgpmdW5jdGlvbiBVUERBVEVfREFUQShzdGF0ZSwgZGF0YSkgewogIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgewogICAgZGF0YQogIH0pOwp9IC8vIEFjdGlvbiBoYW5kbGVyIG1hcAoKCmNvbnN0IGFjdGlvbkhhbmRsZXJzID0gewogIFVQREFURV9DT05GSUcsCiAgVVBEQVRFX0RBVEEKfTsKLyoqCiAqIFN0b3JlIHJlZHVjZXIKICogQWN0aW9ucyBhcmUgaW4gdGhlIGZvcm1hdCB7dHlwZTogJ0FDVElPTl9OQU1FJywgZGF0YTogKn0KICovCgpmdW5jdGlvbiByZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHsKICBpZiAoYWN0aW9uSGFuZGxlcnNbYWN0aW9uLnR5cGVdKSB7CiAgICByZXR1cm4gYWN0aW9uSGFuZGxlcnNbYWN0aW9uLnR5cGVdKHN0YXRlLCBhY3Rpb24uZGF0YSk7CiAgfQoKICByZXR1cm4gc3RhdGU7Cn0KCm1vZHVsZS5leHBvcnRzID0gcmVkdWNlcjs="},{"version":3,"names":["UPDATE_CONFIG","state","props","configKeys","Object","keys","config","filteredProps","filter","propsKey","includes","reduce","memo","assign","length","UPDATE_DATA","data","actionHandlers","reducer","action","type","module","exports"],"sources":["/Users/pantu/work2/vizia/node_modules/@vizia/destination-key-metric/src/lib/reducer.js"],"sourcesContent":["'use strict';\n\n/**\n * Update config\n * Filters out irrelevant props that do not have an initial state in the store\n */\nfunction UPDATE_CONFIG(state, props) {\n    const configKeys = Object.keys(state.config);\n    const filteredProps = Object.keys(props)\n        .filter((propsKey) => configKeys.includes(propsKey))\n        .reduce((memo, propsKey) => Object.assign(memo, {[propsKey]: props[propsKey]}), {});\n\n    if (!Object.keys(filteredProps).length) {\n        return state;\n    }\n\n    return Object.assign({}, state, {\n        config: Object.assign({}, state.config, filteredProps)\n    });\n}\n\n/**\n * Updates the visualisation's data\n */\nfunction UPDATE_DATA(state, data) {\n    return Object.assign({}, state, {data});\n}\n\n// Action handler map\nconst actionHandlers = {\n    UPDATE_CONFIG,\n    UPDATE_DATA\n};\n\n/**\n * Store reducer\n * Actions are in the format {type: 'ACTION_NAME', data: *}\n */\nfunction reducer(state, action) {\n    if (actionHandlers[action.type]) {\n        return actionHandlers[action.type](state, action.data);\n    }\n\n    return state;\n}\n\nmodule.exports = reducer;\n"],"mappings":"AAAA;AAEA;AACA;AACA;AACA;;AACA,SAASA,aAAT,CAAuBC,KAAvB,EAA8BC,KAA9B,EAAqC;EACjC,MAAMC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYJ,KAAK,CAACK,MAAlB,CAAnB;EACA,MAAMC,aAAa,GAAGH,MAAM,CAACC,IAAP,CAAYH,KAAZ,EACjBM,MADiB,CACTC,QAAD,IAAcN,UAAU,CAACO,QAAX,CAAoBD,QAApB,CADJ,EAEjBE,MAFiB,CAEV,CAACC,IAAD,EAAOH,QAAP,KAAoBL,MAAM,CAACS,MAAP,CAAcD,IAAd,EAAoB;IAAC,CAACH,QAAD,GAAYP,KAAK,CAACO,QAAD;EAAlB,CAApB,CAFV,EAE8D,EAF9D,CAAtB;;EAIA,IAAI,CAACL,MAAM,CAACC,IAAP,CAAYE,aAAZ,EAA2BO,MAAhC,EAAwC;IACpC,OAAOb,KAAP;EACH;;EAED,OAAOG,MAAM,CAACS,MAAP,CAAc,EAAd,EAAkBZ,KAAlB,EAAyB;IAC5BK,MAAM,EAAEF,MAAM,CAACS,MAAP,CAAc,EAAd,EAAkBZ,KAAK,CAACK,MAAxB,EAAgCC,aAAhC;EADoB,CAAzB,CAAP;AAGH;AAED;AACA;AACA;;;AACA,SAASQ,WAAT,CAAqBd,KAArB,EAA4Be,IAA5B,EAAkC;EAC9B,OAAOZ,MAAM,CAACS,MAAP,CAAc,EAAd,EAAkBZ,KAAlB,EAAyB;IAACe;EAAD,CAAzB,CAAP;AACH,C,CAED;;;AACA,MAAMC,cAAc,GAAG;EACnBjB,aADmB;EAEnBe;AAFmB,CAAvB;AAKA;AACA;AACA;AACA;;AACA,SAASG,OAAT,CAAiBjB,KAAjB,EAAwBkB,MAAxB,EAAgC;EAC5B,IAAIF,cAAc,CAACE,MAAM,CAACC,IAAR,CAAlB,EAAiC;IAC7B,OAAOH,cAAc,CAACE,MAAM,CAACC,IAAR,CAAd,CAA4BnB,KAA5B,EAAmCkB,MAAM,CAACH,IAA1C,CAAP;EACH;;EAED,OAAOf,KAAP;AACH;;AAEDoB,MAAM,CAACC,OAAP,GAAiBJ,OAAjB"}]}