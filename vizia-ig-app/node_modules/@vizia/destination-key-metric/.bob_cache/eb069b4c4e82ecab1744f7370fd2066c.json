{"remainingRequest":"/Users/pantu/.npm/_npx/5593/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia/node_modules/@vizia/format/src/lib/render.js","dependencies":[{"path":"/Users/pantu/work2/vizia/node_modules/@vizia/format/src/lib/render.js","mtime":1664781785127},{"path":"/Users/pantu/.npm/_npx/5593/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/5593/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwovKiBlc2xpbnQtZGlzYWJsZSBjb21wbGV4aXR5ICovCgovKioKICogR2V0IHBhcnQgcmVuZGVyIHByb3BzLgogKiBDYW4gcmV0dXJuIGJlbUVsZW1lbnQgcHJvcGVydHksIHRvIHdyYXAgdGhlIHZhbHVlIGluIGFuIGVsZW1lbnQuCiAqIENhbiByZXR1cm4gcmVwbGFjZSBwcm9wZXJ0eSwgdG8gcmVwbGFjZSB0aGUgdmFsdWUuCiAqLwoKY29uc3QgZ2V0UGFydFJlbmRlclByb3BzID0gKHBhcnQsIHByb3BzKSA9PiB7CiAgY29uc3QgewogICAgdmFsdWUsCiAgICB0eXBlCiAgfSA9IHBhcnQ7CiAgY29uc3QgewogICAgY3VycmVuY3lTeW1ib2wKICB9ID0gcHJvcHM7CgogIHN3aXRjaCAodHlwZSkgewogICAgY2FzZSAnaW50ZWdlcic6CiAgICBjYXNlICdmcmFjdGlvbic6CiAgICAgIHJldHVybiB7CiAgICAgICAgYmVtRWxlbWVudDogdmFsdWUgPT09ICcxJyA/ICdvbmUnIDogbnVsbAogICAgICB9OwoKICAgIGNhc2UgJ2N1cnJlbmN5JzoKICAgICAgcmV0dXJuIHsKICAgICAgICBiZW1FbGVtZW50OiAnY3VycmVuY3knLAogICAgICAgIHJlcGxhY2U6IGN1cnJlbmN5U3ltYm9sIHx8IHZhbHVlCiAgICAgIH07CgogICAgY2FzZSAnaW5maW5pdHknOgogICAgY2FzZSAnbmFuJzoKICAgICAgcmV0dXJuIHsKICAgICAgICBiZW1FbGVtZW50OiAnaW52YWxpZCcsCiAgICAgICAgcmVwbGFjZTogJ+KIhScgLy8gJ251bGwnIGNoYXJhY3RlcgoKICAgICAgfTsKCiAgICBjYXNlICdtaW51c1NpZ24nOgogICAgICByZXR1cm4gewogICAgICAgIHJlcGxhY2U6ICfiiJInIC8vIGNvcnJlY3QgJ21pbnVzJyBjaGFyYWN0ZXIKCiAgICAgIH07CgogICAgY2FzZSAncGVyY2VudFNpZ24nOgogICAgICByZXR1cm4gewogICAgICAgIGJlbUVsZW1lbnQ6ICdwZXJjZW50JwogICAgICB9OwoKICAgIGNhc2UgJ29yZGluYWwnOgogICAgICByZXR1cm4gewogICAgICAgIGJlbUVsZW1lbnQ6ICdvcmRpbmFsJwogICAgICB9OwoKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiB7fTsKICB9Cn07Cgpjb25zdCByZW5kZXJlcnMgPSB7CiAgLyoqCiAgICogU3RyaW5nIHJlbmRlcmVyCiAgICovCiAgc3RyaW5nOiAoY29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pID0+IGAke2NoaWxkcmVufWAsCgogIC8qKgogICAqIEhUTUwgcmVuZGVyZXIKICAgKi8KICBodG1sOiAoY29tcG9uZW50LCBwcm9wcywgY2hpbGRyZW4pID0+IGA8JHtjb21wb25lbnR9IGNsYXNzPSIke3Byb3BzLmNsYXNzTmFtZX0iPiR7Y2hpbGRyZW59PC8ke2NvbXBvbmVudH0+YAp9OwovKioKICogUmVuZGVyIHBhcnRzCiAqLwoKY29uc3QgcmVuZGVyID0gKHBhcnRzLCBwcm9wcykgPT4gewogIGNvbnN0IHsKICAgIGJlbUJsb2NrLAogICAgb3V0cHV0CiAgfSA9IHByb3BzOwogIGNvbnN0IHJlbmRlcmVyID0gdHlwZW9mIG91dHB1dCA9PT0gJ2Z1bmN0aW9uJyA/IG91dHB1dCA6IHJlbmRlcmVyc1tvdXRwdXRdOwogIGNvbnN0IG91dHB1dFBhcnRzID0gcGFydHMgLy8gUmVuZGVyIGVhY2ggcGFydAogIC5tYXAocGFydCA9PiB7CiAgICBjb25zdCB7CiAgICAgIHZhbHVlCiAgICB9ID0gcGFydDsKICAgIGNvbnN0IHsKICAgICAgYmVtRWxlbWVudCwKICAgICAgcmVwbGFjZQogICAgfSA9IGdldFBhcnRSZW5kZXJQcm9wcyhwYXJ0LCBwcm9wcyk7CiAgICBjb25zdCByZXN1bHRWYWx1ZSA9IHJlcGxhY2UgfHwgdmFsdWU7CgogICAgaWYgKGJlbUVsZW1lbnQpIHsKICAgICAgcmV0dXJuIHJlbmRlcmVyKCdzcGFuJywgewogICAgICAgIGNsYXNzTmFtZTogYCR7YmVtQmxvY2t9X18ke2JlbUVsZW1lbnR9YAogICAgICB9LCByZXN1bHRWYWx1ZSk7CiAgICB9CgogICAgcmV0dXJuIHJlc3VsdFZhbHVlOwogIH0pIC8vIEdyb3VwIGFueSBzdHJpbmcgcGFydHMgdG9nZXRoZXIKICAucmVkdWNlKChyZXN1bHQsIHBhcnQpID0+IHsKICAgIGNvbnN0IHByZXZSZXN1bHRQYXJ0ID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSB8fCBudWxsOwoKICAgIGlmICh0eXBlb2YgcGFydCA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHByZXZSZXN1bHRQYXJ0ID09PSAnc3RyaW5nJykgewogICAgICByZXR1cm4gWy4uLnJlc3VsdC5zbGljZSgwLCAtMSksIGAke3ByZXZSZXN1bHRQYXJ0fSR7cGFydH1gXTsKICAgIH0KCiAgICByZXR1cm4gWy4uLnJlc3VsdCwgcGFydF07CiAgfSwgW10pOwogIHJldHVybiByZW5kZXJlcignc3BhbicsIHsKICAgIGNsYXNzTmFtZTogYmVtQmxvY2sKICB9LCBvdXRwdXRQYXJ0cyk7Cn07Cgptb2R1bGUuZXhwb3J0cyA9IHJlbmRlcjs="},{"version":3,"names":["getPartRenderProps","part","props","value","type","currencySymbol","bemElement","replace","renderers","string","component","children","html","className","render","parts","bemBlock","output","renderer","outputParts","map","resultValue","reduce","result","prevResultPart","length","slice","module","exports"],"sources":["/Users/pantu/work2/vizia/node_modules/@vizia/format/src/lib/render.js"],"sourcesContent":["'use strict';\n\n/* eslint-disable complexity */\n\n/**\n * Get part render props.\n * Can return bemElement property, to wrap the value in an element.\n * Can return replace property, to replace the value.\n */\nconst getPartRenderProps = (part, props) => {\n    const {value, type} = part;\n    const {currencySymbol} = props;\n\n    switch (type) {\n        case 'integer':\n        case 'fraction':\n            return {\n                bemElement: value === '1' ? 'one' : null\n            };\n        case 'currency':\n            return {\n                bemElement: 'currency',\n                replace: currencySymbol || value\n            };\n        case 'infinity':\n        case 'nan':\n            return {\n                bemElement: 'invalid',\n                replace: '∅' // 'null' character\n            };\n        case 'minusSign':\n            return {\n                replace: '−' // correct 'minus' character\n            };\n        case 'percentSign':\n            return {\n                bemElement: 'percent'\n            };\n        case 'ordinal':\n            return {\n                bemElement: 'ordinal'\n            };\n        default:\n            return {};\n    }\n};\n\nconst renderers = {\n    /**\n     * String renderer\n     */\n    string: (component, props, children) => `${children}`,\n\n    /**\n     * HTML renderer\n     */\n    html: (component, props, children) => `<${component} class=\"${props.className}\">${children}</${component}>`\n};\n\n/**\n * Render parts\n */\nconst render = (parts, props) => {\n    const {bemBlock, output} = props;\n    const renderer = typeof output === 'function' ? output : renderers[output];\n\n    const outputParts = parts\n        // Render each part\n        .map((part) => {\n            const {value} = part;\n            const {bemElement, replace} = getPartRenderProps(part, props);\n            const resultValue = replace || value;\n\n            if (bemElement) {\n                return renderer(\n                    'span',\n                    {className: `${bemBlock}__${bemElement}`},\n                    resultValue\n                );\n            }\n            return resultValue;\n        })\n        // Group any string parts together\n        .reduce((result, part) => {\n            const prevResultPart = result[result.length - 1] || null;\n\n            if (typeof part === 'string' && typeof prevResultPart === 'string') {\n                return [...result.slice(0, -1), `${prevResultPart}${part}`];\n            }\n            return [...result, part];\n        }, []);\n\n    return renderer(\n        'span',\n        {className: bemBlock},\n        outputParts\n    );\n};\n\nmodule.exports = render;\n"],"mappings":"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"}]}