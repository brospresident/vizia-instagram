{"remainingRequest":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js??ref--4-1!/Users/pantu/work2/vizia-ig-app/node_modules/@formatjs/intl-unified-numberformat/dist/data.js","dependencies":[{"path":"/Users/pantu/work2/vizia-ig-app/node_modules/@formatjs/intl-unified-numberformat/dist/data.js","mtime":1664781786858},{"path":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/pantu/.npm/_npx/12238/lib/node_modules/@vizia/app-emulator/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9fZXh0ZW5kcyA9IHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMgfHwgZnVuY3Rpb24gKCkgewogIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgewogICAgICBfX3Byb3RvX186IFtdCiAgICB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsKICAgICAgZC5fX3Byb3RvX18gPSBiOwogICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewogICAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsKICAgIH07CgogICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CiAgfTsKCiAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CiAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoKICAgIGZ1bmN0aW9uIF9fKCkgewogICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDsKICAgIH0KCiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CiAgfTsKfSgpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIGludGxfdXRpbHNfMSA9IHJlcXVpcmUoIkBmb3JtYXRqcy9pbnRsLXV0aWxzIik7CgpmdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBtZXNzYWdlLCBFcnIpIHsKICBpZiAoRXJyID09PSB2b2lkIDApIHsKICAgIEVyciA9IEVycm9yOwogIH0KCiAgaWYgKCFjb25kaXRpb24pIHsKICAgIHRocm93IG5ldyBFcnIobWVzc2FnZSk7CiAgfQp9IC8vIFRoaXMgaXMgZnJvbTogdW5pY29kZS0xMi4xLjAvR2VuZXJhbF9DYXRlZ29yeS9TeW1ib2wvcmVnZXguanMKCgp2YXIgU19VTklDT0RFX1JFR0VYID0gL1tcJFwrPC0+XF5gXHx+XHhBMi1ceEE2XHhBOFx4QTlceEFDXHhBRS1ceEIxXHhCNFx4QjhceEQ3XHhGN1x1MDJDMi1cdTAyQzVcdTAyRDItXHUwMkRGXHUwMkU1LVx1MDJFQlx1MDJFRFx1MDJFRi1cdTAyRkZcdTAzNzVcdTAzODRcdTAzODVcdTAzRjZcdTA0ODJcdTA1OEQtXHUwNThGXHUwNjA2LVx1MDYwOFx1MDYwQlx1MDYwRVx1MDYwRlx1MDZERVx1MDZFOVx1MDZGRFx1MDZGRVx1MDdGNlx1MDdGRVx1MDdGRlx1MDlGMlx1MDlGM1x1MDlGQVx1MDlGQlx1MEFGMVx1MEI3MFx1MEJGMy1cdTBCRkFcdTBDN0ZcdTBENEZcdTBENzlcdTBFM0ZcdTBGMDEtXHUwRjAzXHUwRjEzXHUwRjE1LVx1MEYxN1x1MEYxQS1cdTBGMUZcdTBGMzRcdTBGMzZcdTBGMzhcdTBGQkUtXHUwRkM1XHUwRkM3LVx1MEZDQ1x1MEZDRVx1MEZDRlx1MEZENS1cdTBGRDhcdTEwOUVcdTEwOUZcdTEzOTAtXHUxMzk5XHUxNjZEXHUxN0RCXHUxOTQwXHUxOURFLVx1MTlGRlx1MUI2MS1cdTFCNkFcdTFCNzQtXHUxQjdDXHUxRkJEXHUxRkJGLVx1MUZDMVx1MUZDRC1cdTFGQ0ZcdTFGREQtXHUxRkRGXHUxRkVELVx1MUZFRlx1MUZGRFx1MUZGRVx1MjA0NFx1MjA1Mlx1MjA3QS1cdTIwN0NcdTIwOEEtXHUyMDhDXHUyMEEwLVx1MjBCRlx1MjEwMFx1MjEwMVx1MjEwMy1cdTIxMDZcdTIxMDhcdTIxMDlcdTIxMTRcdTIxMTYtXHUyMTE4XHUyMTFFLVx1MjEyM1x1MjEyNVx1MjEyN1x1MjEyOVx1MjEyRVx1MjEzQVx1MjEzQlx1MjE0MC1cdTIxNDRcdTIxNEEtXHUyMTREXHUyMTRGXHUyMThBXHUyMThCXHUyMTkwLVx1MjMwN1x1MjMwQy1cdTIzMjhcdTIzMkItXHUyNDI2XHUyNDQwLVx1MjQ0QVx1MjQ5Qy1cdTI0RTlcdTI1MDAtXHUyNzY3XHUyNzk0LVx1MjdDNFx1MjdDNy1cdTI3RTVcdTI3RjAtXHUyOTgyXHUyOTk5LVx1MjlEN1x1MjlEQy1cdTI5RkJcdTI5RkUtXHUyQjczXHUyQjc2LVx1MkI5NVx1MkI5OC1cdTJCRkZcdTJDRTUtXHUyQ0VBXHUyRTgwLVx1MkU5OVx1MkU5Qi1cdTJFRjNcdTJGMDAtXHUyRkQ1XHUyRkYwLVx1MkZGQlx1MzAwNFx1MzAxMlx1MzAxM1x1MzAyMFx1MzAzNlx1MzAzN1x1MzAzRVx1MzAzRlx1MzA5Qlx1MzA5Q1x1MzE5MFx1MzE5MVx1MzE5Ni1cdTMxOUZcdTMxQzAtXHUzMUUzXHUzMjAwLVx1MzIxRVx1MzIyQS1cdTMyNDdcdTMyNTBcdTMyNjAtXHUzMjdGXHUzMjhBLVx1MzJCMFx1MzJDMC1cdTMzRkZcdTREQzAtXHU0REZGXHVBNDkwLVx1QTRDNlx1QTcwMC1cdUE3MTZcdUE3MjBcdUE3MjFcdUE3ODlcdUE3OEFcdUE4MjgtXHVBODJCXHVBODM2LVx1QTgzOVx1QUE3Ny1cdUFBNzlcdUFCNUJcdUZCMjlcdUZCQjItXHVGQkMxXHVGREZDXHVGREZEXHVGRTYyXHVGRTY0LVx1RkU2Nlx1RkU2OVx1RkYwNFx1RkYwQlx1RkYxQy1cdUZGMUVcdUZGM0VcdUZGNDBcdUZGNUNcdUZGNUVcdUZGRTAtXHVGRkU2XHVGRkU4LVx1RkZFRVx1RkZGQ1x1RkZGRF18XHVEODAwW1x1REQzNy1cdUREM0ZcdURENzktXHVERDg5XHVERDhDLVx1REQ4RVx1REQ5MC1cdUREOUJcdUREQTBcdURERDAtXHVEREZDXXxcdUQ4MDJbXHVEQzc3XHVEQzc4XHVERUM4XXxcdUQ4MDVcdURGM0Z8XHVEODA3W1x1REZENS1cdURGRjFdfFx1RDgxQVtcdURGM0MtXHVERjNGXHVERjQ1XXxcdUQ4MkZcdURDOUN8XHVEODM0W1x1REMwMC1cdURDRjVcdUREMDAtXHVERDI2XHVERDI5LVx1REQ2NFx1REQ2QS1cdURENkNcdUREODNcdUREODRcdUREOEMtXHVEREE5XHVEREFFLVx1RERFOFx1REUwMC1cdURFNDFcdURFNDVcdURGMDAtXHVERjU2XXxcdUQ4MzVbXHVERUMxXHVERURCXHVERUZCXHVERjE1XHVERjM1XHVERjRGXHVERjZGXHVERjg5XHVERkE5XHVERkMzXXxcdUQ4MzZbXHVEQzAwLVx1RERGRlx1REUzNy1cdURFM0FcdURFNkQtXHVERTc0XHVERTc2LVx1REU4M1x1REU4NVx1REU4Nl18XHVEODM4W1x1REQ0Rlx1REVGRl18XHVEODNCW1x1RENBQ1x1RENCMFx1REQyRVx1REVGMFx1REVGMV18XHVEODNDW1x1REMwMC1cdURDMkJcdURDMzAtXHVEQzkzXHVEQ0EwLVx1RENBRVx1RENCMS1cdURDQkZcdURDQzEtXHVEQ0NGXHVEQ0QxLVx1RENGNVx1REQxMC1cdURENkNcdURENzAtXHVEREFDXHVEREU2LVx1REUwMlx1REUxMC1cdURFM0JcdURFNDAtXHVERTQ4XHVERTUwXHVERTUxXHVERTYwLVx1REU2NVx1REYwMC1cdURGRkZdfFx1RDgzRFtcdURDMDAtXHVERUQ1XHVERUUwLVx1REVFQ1x1REVGMC1cdURFRkFcdURGMDAtXHVERjczXHVERjgwLVx1REZEOFx1REZFMC1cdURGRUJdfFx1RDgzRVtcdURDMDAtXHVEQzBCXHVEQzEwLVx1REM0N1x1REM1MC1cdURDNTlcdURDNjAtXHVEQzg3XHVEQzkwLVx1RENBRFx1REQwMC1cdUREMEJcdUREMEQtXHVERDcxXHVERDczLVx1REQ3Nlx1REQ3QS1cdUREQTJcdUREQTUtXHVEREFBXHVEREFFLVx1RERDQVx1RERDRC1cdURFNTNcdURFNjAtXHVERTZEXHVERTcwLVx1REU3M1x1REU3OC1cdURFN0FcdURFODAtXHVERTgyXHVERTkwLVx1REU5NV0vOyAvLyBnIGZsYWcgYmMgdGhpcyBhcHBlYXJzIHR3aWNlIGluIGFjY291bnRpbmcgcGF0dGVybgoKdmFyIENVUlJFTkNZX1NZTUJPTF9SRUdFWCA9IC/CpC9nOyAvLyBJbnN0ZWFkIG9mIGRvaW5nIGp1c3QgcmVwbGFjZSAnezF9JyB3ZSB1c2UgZ2xvYmFsIHJlZ2V4Ci8vIHNpbmNlIHRoaXMgY2FuIGFwcGVhciBtb3JlIHRoYW4gb25jZSAoZS5nIHsxfSB7bnVtYmVyfSB7MX0pCgp2YXIgVU5JVF8xX1JFR0VYID0gL1x7MVx9L2c7CnZhciBVTklUXzBfUkVHRVggPSAvXHswXH0vZzsKCmZ1bmN0aW9uIGV4dHJhY3REZWNpbWFsRm9ybWF0SUxEKGRhdGEpIHsKICBpZiAoIWRhdGEpIHsKICAgIHJldHVybjsKICB9CgogIHJldHVybiBPYmplY3Qua2V5cyhkYXRhKS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgbnVtKSB7CiAgICB2YXIgcGF0dGVybiA9IGRhdGFbbnVtXTsKICAgIGFsbFtudW1dID0gT2JqZWN0LmtleXMocGF0dGVybikucmVkdWNlKGZ1bmN0aW9uIChhbGwsIHApIHsKICAgICAgYWxsW3BdID0gKHBhdHRlcm5bcF0gfHwgJycpLnJlcGxhY2UoL1vCpDBdL2csICcnKSAvLyBhcG9zdHJvcGhlLWVzY2FwZWQKICAgICAgLnJlcGxhY2UoLycoLio/KScvZywgJyQxJykudHJpbSgpOwogICAgICByZXR1cm4gYWxsOwogICAgfSwgewogICAgICBvdGhlcjogcGF0dGVybi5vdGhlci5yZXBsYWNlKC9bwqQwXS9nLCAnJykgLy8gYXBvc3Ryb3BoZS1lc2NhcGVkCiAgICAgIC5yZXBsYWNlKC8nKC4qPyknL2csICckMScpLnRyaW0oKQogICAgfSk7CiAgICByZXR1cm4gYWxsOwogIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpOwp9CgpmdW5jdGlvbiBleHRyYWN0TERNTFBsdXJhbFJ1bGVNYXAobSwgaykgewogIHJldHVybiBPYmplY3Qua2V5cyhtKS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgcnVsZSkgewogICAgYWxsW3J1bGVdID0gbVtydWxlXVtrXTsKICAgIHJldHVybiBhbGw7CiAgfSwgewogICAgb3RoZXI6IG0ub3RoZXJba10KICB9KTsKfQoKZnVuY3Rpb24gZXh0cmFjdElMRCh1bml0cywgY3VycmVuY2llcywgbnVtYmVycywgbnVtYmVyaW5nU3lzdGVtKSB7CiAgcmV0dXJuIHsKICAgIGRlY2ltYWw6IHsKICAgICAgY29tcGFjdFNob3J0OiBleHRyYWN0RGVjaW1hbEZvcm1hdElMRChudW1iZXJzLmRlY2ltYWxbbnVtYmVyaW5nU3lzdGVtXS5zaG9ydCksCiAgICAgIGNvbXBhY3RMb25nOiBleHRyYWN0RGVjaW1hbEZvcm1hdElMRChudW1iZXJzLmRlY2ltYWxbbnVtYmVyaW5nU3lzdGVtXS5sb25nKQogICAgfSwKICAgIGN1cnJlbmN5OiB7CiAgICAgIGNvbXBhY3RTaG9ydDogZXh0cmFjdERlY2ltYWxGb3JtYXRJTEQobnVtYmVycy5jdXJyZW5jeVtudW1iZXJpbmdTeXN0ZW1dLnNob3J0KQogICAgfSwKICAgIHN5bWJvbHM6IG51bWJlcnMuc3ltYm9sc1tudW1iZXJpbmdTeXN0ZW1dLAogICAgY3VycmVuY3lTeW1ib2xzOiBPYmplY3Qua2V5cyhjdXJyZW5jaWVzKS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgY29kZSkgewogICAgICBhbGxbY29kZV0gPSB7CiAgICAgICAgY3VycmVuY3lOYW1lOiBjdXJyZW5jaWVzW2NvZGVdLmRpc3BsYXlOYW1lLAogICAgICAgIGN1cnJlbmN5U3ltYm9sOiBjdXJyZW5jaWVzW2NvZGVdLnN5bWJvbCwKICAgICAgICBjdXJyZW5jeU5hcnJvd1N5bWJvbDogY3VycmVuY2llc1tjb2RlXS5uYXJyb3cgfHwgY3VycmVuY2llc1tjb2RlXS5zeW1ib2wKICAgICAgfTsKICAgICAgcmV0dXJuIGFsbDsKICAgIH0sIE9iamVjdC5jcmVhdGUobnVsbCkpLAogICAgdW5pdFN5bWJvbHM6IE9iamVjdC5rZXlzKHVuaXRzKS5yZWR1Y2UoZnVuY3Rpb24gKGFsbCwgdW5pdCkgewogICAgICBhbGxbdW5pdF0gPSB7CiAgICAgICAgdW5pdFN5bWJvbDogZXh0cmFjdExETUxQbHVyYWxSdWxlTWFwKHVuaXRzW3VuaXRdLnNob3J0LCAnc3ltYm9sJyksCiAgICAgICAgdW5pdE5hcnJvd1N5bWJvbDogZXh0cmFjdExETUxQbHVyYWxSdWxlTWFwKHVuaXRzW3VuaXRdLm5hcnJvdywgJ3N5bWJvbCcpLAogICAgICAgIHVuaXROYW1lOiBleHRyYWN0TERNTFBsdXJhbFJ1bGVNYXAodW5pdHNbdW5pdF0ubG9uZywgJ3N5bWJvbCcpCiAgICAgIH07CiAgICAgIHJldHVybiBhbGw7CiAgICB9LCBPYmplY3QuY3JlYXRlKG51bGwpKQogIH07Cn0KCmV4cG9ydHMuZXh0cmFjdElMRCA9IGV4dHJhY3RJTEQ7CgpmdW5jdGlvbiBzZXJpYWxpemVTbG90VG9rZW5zKHRva2VucykgewogIGlmIChBcnJheS5pc0FycmF5KHRva2VucykpIHJldHVybiB0b2tlbnMubWFwKGZ1bmN0aW9uICh0KSB7CiAgICByZXR1cm4gInsiICsgdCArICJ9IjsKICB9KS5qb2luKCcnKTsKICByZXR1cm4gInsiICsgdG9rZW5zICsgIn0iOwp9IC8vIENyZWRpdDogaHR0cHM6Ly9naXRodWIuY29tL2FuZHllYXJuc2hhdy9JbnRsLmpzL2Jsb2IvbWFzdGVyL3NjcmlwdHMvdXRpbHMvcmVkdWNlLmpzCi8vIE1hdGNoZXMgQ0xEUiBudW1iZXIgcGF0dGVybnMsIGUuZy4gIywjIzAuMDAsICMsIyMsIyMwLjAwLCAjLCMjMC4jIywgMCwgZXRjLgoKCnZhciBOVU1CRVJfUEFUVEVSTiA9IC9bIzBdKD86W1wuLF1bIzBdKykqL2c7CnZhciBTQ0lFTlRJRklDX1BPU0lUSVZFX1BBVFRFUk4gPSBzZXJpYWxpemVTbG90VG9rZW5zKFtpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubnVtYmVyLCBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uc2NpZW50aWZpY1NlcGFyYXRvciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnNjaWVudGlmaWNFeHBvbmVudF0pOwp2YXIgU0NJRU5USUZJQ19ORUdBVElWRV9QQVRURVJOID0gc2VyaWFsaXplU2xvdFRva2VucyhbaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm1pbnVzU2lnbiwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnNjaWVudGlmaWNTZXBhcmF0b3IsIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5zY2llbnRpZmljRXhwb25lbnRdKTsKdmFyIERVTU1ZX1BPU0lUSVZFX1BBVFRFUk4gPSBzZXJpYWxpemVTbG90VG9rZW5zKFtpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubnVtYmVyXSk7CnZhciBEVU1NWV9ORUdBVElWRV9QQVRURVJOID0gc2VyaWFsaXplU2xvdFRva2VucyhbaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm1pbnVzU2lnbiwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlcl0pOwp2YXIgRFVNTVlfUEFUVEVSTiA9IERVTU1ZX1BPU0lUSVZFX1BBVFRFUk4gKyAnOycgKyBEVU1NWV9ORUdBVElWRV9QQVRURVJOOwp2YXIgU0NJRU5USUZJQ19QQVRURVJOID0gU0NJRU5USUZJQ19QT1NJVElWRV9QQVRURVJOICsgJzsnICsgU0NJRU5USUZJQ19ORUdBVElWRV9QQVRURVJOOwovKioKICogVHVybiBjb21wYWN0IHBhdHRlcm4gbGlrZSBgMCB0cmlsbGlvbmAgdG8KICogYDAge2NvbXBhY3RTeW1ib2x9Oy0wIHtjb21wYWN0U3ltYm9sfWAuCiAqIE5lZ2F0aXZlIHBhdHRlcm4gd2lsbCBub3QgYmUgaW5zZXJ0ZWQgaWYgdGhlcmUgYWxyZWFkeQogKiBleGlzdCBvbmUuCiAqIFRPRE86IE1heWJlIHByZXByb2Nlc3MgdGhpcwogKiBAcGFyYW0gcGF0dGVybiBkZWNpbWFsIGxvbmcvc2hvcnQgcGF0dGVybgogKi8KCmZ1bmN0aW9uIHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbChwYXR0ZXJuLCBzbG90VG9rZW4pIHsKICBpZiAoc2xvdFRva2VuID09PSB2b2lkIDApIHsKICAgIHNsb3RUb2tlbiA9IGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jb21wYWN0U3ltYm9sOwogIH0KCiAgdmFyIGNvbXBhY3RVbml0ID0gcGF0dGVybi5yZXBsYWNlKC8wKy8sICcnKS50cmltKCk7CgogIGlmIChjb21wYWN0VW5pdCkgewogICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZShjb21wYWN0VW5pdCwgc2VyaWFsaXplU2xvdFRva2VucyhzbG90VG9rZW4pKTsKICB9CgogIHZhciBuZWdhdGl2ZVBhdHRlcm4gPSBwYXR0ZXJuLmluZGV4T2YoJy0nKSA+IC0xID8gcGF0dGVybiA6IHBhdHRlcm4ucmVwbGFjZSgvKDArKS8sICctJDEnKTsKICByZXR1cm4gW3BhdHRlcm4ucmVwbGFjZSgvMCsvLCAne251bWJlcn0nKSwgbmVnYXRpdmVQYXR0ZXJuLnJlcGxhY2UoLzArLywgJ3tudW1iZXJ9JyldOwp9Ci8qKgogKiBUdXJuIGNvbXBhY3QgcGF0dGVybiBsaWtlIGDCpDAgdHJpbGxpb25gIHRvCiAqIGDCpDAge2NvbXBhY3RTeW1ib2x9Oy3CpDAge2NvbXBhY3RTeW1ib2x9YAogKiBOZWdhdGl2ZSBwYXR0ZXJuIHdpbGwgbm90IGJlIGluc2VydGVkIGlmIHRoZXJlIGFscmVhZHkKICogZXhpc3Qgb25lLgogKiBUT0RPOiBNYXliZSBwcmVwcm9jZXNzIHRoaXMKICogQHBhcmFtIHBhdHRlcm4gY3VycmVuY3kgbG9uZy9zaG9ydCBwYXR0ZXJuCiAqLwoKCmZ1bmN0aW9uIHByb2Nlc3NDdXJyZW5jeUNvbXBhY3RTeW1ib2wocGF0dGVybiwgc2xvdFRva2VuKSB7CiAgaWYgKHNsb3RUb2tlbiA9PT0gdm9pZCAwKSB7CiAgICBzbG90VG9rZW4gPSBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY29tcGFjdFN5bWJvbDsKICB9CgogIHZhciBjb21wYWN0VW5pdCA9IHBhdHRlcm4ucmVwbGFjZSgvW8KkMF0vZywgJycpLnRyaW0oKTsKCiAgaWYgKGNvbXBhY3RVbml0KSB7CiAgICBwYXR0ZXJuID0gcGF0dGVybi5yZXBsYWNlKGNvbXBhY3RVbml0LCBzZXJpYWxpemVTbG90VG9rZW5zKHNsb3RUb2tlbikpOwogIH0KCiAgdmFyIG5lZ2F0aXZlUGF0dGVybiA9IHBhdHRlcm4uaW5kZXhPZignLScpID4gLTEgPyBwYXR0ZXJuIDogIi0iICsgcGF0dGVybjsKICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKC8wKy8sICd7bnVtYmVyfScpICsgJzsnICsgbmVnYXRpdmVQYXR0ZXJuLnJlcGxhY2UoLzArLywgJ3tudW1iZXJ9Jyk7Cn0KCnZhciBJTlNFUlRfQkVGT1JFX1BBVFRFUk5fUkVHRVggPSAvW15cczsoLV3CpC87CnZhciBJTlNFUlRfQUZURVJfUEFUVEVSTl9SRUdFWCA9IC/CpFteXHMpO10vOwoKZnVuY3Rpb24gc2hvdWxkSW5zZXJ0QmVmb3JlKGN1cnJlbmN5LCBwYXR0ZXJuKSB7CiAgLy8gc3Vycm91bmRpbmdNYXRjaCBbOmRpZ2l0Ol0gY2hlY2sKICByZXR1cm4gSU5TRVJUX0JFRk9SRV9QQVRURVJOX1JFR0VYLnRlc3QocGF0dGVybikgJiYgLy8gWzpeUzpdCiAgIVNfVU5JQ09ERV9SRUdFWC50ZXN0KGN1cnJlbmN5WzBdKTsKfQoKZnVuY3Rpb24gc2hvdWxkSW5zZXJ0QWZ0ZXIoY3VycmVuY3ksIHBhdHRlcm4pIHsKICByZXR1cm4gSU5TRVJUX0FGVEVSX1BBVFRFUk5fUkVHRVgudGVzdChwYXR0ZXJuKSAmJiAvLyBbOl5TOl0KICAhU19VTklDT0RFX1JFR0VYLnRlc3QoY3VycmVuY3lbY3VycmVuY3kubGVuZ3RoIC0gMV0pOwp9CgpmdW5jdGlvbiBpbnNlcnRCZXR3ZWVuKGN1cnJlbmN5LCBwYXR0ZXJuLCBpbnNlcnRCZXR3ZWVuQ2hhcikgewogIC8vIENoZWNrIGFmdGVyQ3VycmVuY3kKICBpZiAoc2hvdWxkSW5zZXJ0QWZ0ZXIoY3VycmVuY3ksIHBhdHRlcm4pKSB7CiAgICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKENVUlJFTkNZX1NZTUJPTF9SRUdFWCwgIlx1MDBBNCIgKyBpbnNlcnRCZXR3ZWVuQ2hhcik7CiAgfSAvLyBDaGVjayBiZWZvcmVDdXJyZW5jeQoKCiAgaWYgKHNob3VsZEluc2VydEJlZm9yZShjdXJyZW5jeSwgcGF0dGVybikpIHsKICAgIHJldHVybiBwYXR0ZXJuLnJlcGxhY2UoQ1VSUkVOQ1lfU1lNQk9MX1JFR0VYLCBpbnNlcnRCZXR3ZWVuQ2hhciArICJcdTAwQTQiKTsKICB9CgogIHJldHVybiBwYXR0ZXJuOwp9Cgp2YXIgUGF0dGVybnMgPQovKiogQGNsYXNzICovCmZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBQYXR0ZXJucyh1bml0cywgY3VycmVuY2llcywgbnVtYmVycywgbnVtYmVyaW5nU3lzdGVtLCB1bml0LCBjdXJyZW5jeSwgY3VycmVuY3lTaWduKSB7CiAgICB0aGlzLnVuaXRzID0gdW5pdHM7CiAgICB0aGlzLmN1cnJlbmNpZXMgPSBjdXJyZW5jaWVzOwogICAgdGhpcy5udW1iZXJzID0gbnVtYmVyczsKICAgIHRoaXMubnVtYmVyaW5nU3lzdGVtID0gbnVtYmVyaW5nU3lzdGVtOwogICAgdGhpcy5fdW5pdCA9IHVuaXQ7CiAgICB0aGlzLl9jdXJyZW5jeSA9IGN1cnJlbmN5OwogICAgdGhpcy5jdXJyZW5jeVNpZ24gPSBjdXJyZW5jeVNpZ247CiAgfQoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybnMucHJvdG90eXBlLCAiZGVjaW1hbCIsIHsKICAgIC8vIFN0eWxlCiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLmRlY2ltYWxQYXR0ZXJucykgewogICAgICAgIHRoaXMuZGVjaW1hbFBhdHRlcm5zID0gbmV3IERlY2ltYWxQYXR0ZXJucyh0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuZGVjaW1hbFBhdHRlcm5zOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybnMucHJvdG90eXBlLCAicGVyY2VudCIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMucGVyY2VudFBhdHRlcm5zKSB7CiAgICAgICAgdGhpcy5wZXJjZW50UGF0dGVybnMgPSBuZXcgUGVyY2VudFBhdHRlcm5zKHRoaXMubnVtYmVycywgdGhpcy5udW1iZXJpbmdTeXN0ZW0pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5wZXJjZW50UGF0dGVybnM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQYXR0ZXJucy5wcm90b3R5cGUsICJ1bml0IiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy51bml0UGF0dGVybnMpIHsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLl91bml0LCAndW5pdCBtdXN0IGJlIHN1cHBsaWVkJyk7CiAgICAgICAgdGhpcy51bml0UGF0dGVybnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICAgIHRoaXMudW5pdFBhdHRlcm5zW3RoaXMuX3VuaXRdID0gbmV3IFVuaXRQYXR0ZXJucyh0aGlzLnVuaXRzLCB0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtLCB0aGlzLl91bml0KTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMudW5pdFBhdHRlcm5zOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGF0dGVybnMucHJvdG90eXBlLCAiY3VycmVuY3kiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLmN1cnJlbmN5UGF0dGVybnMpIHsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLl9jdXJyZW5jeSwgJ2N1cnJlbmN5IG11c3QgYmUgc3VwcGxpZWQnKTsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLmN1cnJlbmN5U2lnbiwgJ2N1cnJlbmN5U2lnbiBtdXN0IGJlIHN1cHBsaWVkJyk7CiAgICAgICAgdGhpcy5jdXJyZW5jeVBhdHRlcm5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgICB0aGlzLmN1cnJlbmN5UGF0dGVybnNbdGhpcy5fY3VycmVuY3ldID0gbmV3IEN1cnJlbmN5UGF0dGVybnModGhpcy5jdXJyZW5jaWVzLCB0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtLCB0aGlzLl9jdXJyZW5jeSwgdGhpcy5jdXJyZW5jeVNpZ24pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5jdXJyZW5jeVBhdHRlcm5zOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICByZXR1cm4gUGF0dGVybnM7Cn0oKTsKCmV4cG9ydHMuUGF0dGVybnMgPSBQYXR0ZXJuczsKCmZ1bmN0aW9uIHByb2Nlc3NTaWduUGF0dGVybihzaWduUGF0dGVybiwgZm4pIHsKICBpZiAoIWZuKSB7CiAgICByZXR1cm4gc2lnblBhdHRlcm47CiAgfQoKICByZXR1cm4gewogICAgcG9zaXRpdmVQYXR0ZXJuOiBmbihzaWduUGF0dGVybi5wb3NpdGl2ZVBhdHRlcm4pLAogICAgemVyb1BhdHRlcm46IGZuKHNpZ25QYXR0ZXJuLnplcm9QYXR0ZXJuKSwKICAgIG5lZ2F0aXZlUGF0dGVybjogZm4oc2lnblBhdHRlcm4ubmVnYXRpdmVQYXR0ZXJuKQogIH07Cn0KLyoqCiAqIFByb2R1Y2UgcG9zaXRpdmUvbmVnYXRpdmUvemVybyBwYXR0ZXJuCiAqIFRoaXMgYWxzbyBjb252ZXJ0cyB7MH0gaW50byB7bnVtYmVyfQogKiBAcGFyYW0gcGF0dGVybnMKICogQHBhcmFtIHNpZ25EaXNwbGF5CiAqLwoKCmZ1bmN0aW9uIHByb2R1Y2VTaWduUGF0dGVybihwYXR0ZXJucywgc2lnbkRpc3BsYXkpIHsKICBpbnZhcmlhbnQoISFwYXR0ZXJucywgJ1BhdHRlcm4gc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwoKICB2YXIgX2EgPSBwYXR0ZXJucy5zcGxpdCgnOycpLAogICAgICBwb3NpdGl2ZVBhdHRlcm4gPSBfYVswXSwKICAgICAgbmVnYXRpdmVQYXR0ZXJuID0gX2FbMV07CgogIGludmFyaWFudCghIW5lZ2F0aXZlUGF0dGVybiwgIm5lZ2F0aXZlUGF0dGVybiBzaG91bGQgaGF2ZSBleGlzdGVkIGJ1dCBnb3QgXCIiICsgcGF0dGVybnMgKyAiXCIiKTsKICB2YXIgbm9TaWduUGF0dGVybiA9IHBvc2l0aXZlUGF0dGVybi5yZXBsYWNlKCcrJywgJycpOwogIG5lZ2F0aXZlUGF0dGVybiA9IG5lZ2F0aXZlUGF0dGVybi5yZXBsYWNlKCctJywgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubWludXNTaWduKSk7CiAgdmFyIGFsd2F5c1Bvc2l0aXZlUGF0dGVybiA9IHBvc2l0aXZlUGF0dGVybjsKCiAgaWYgKG5lZ2F0aXZlUGF0dGVybi5pbmRleE9mKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5taW51c1NpZ24pID4gLTEpIHsKICAgIGFsd2F5c1Bvc2l0aXZlUGF0dGVybiA9IG5lZ2F0aXZlUGF0dGVybi5yZXBsYWNlKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5taW51c1NpZ24sIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5wbHVzU2lnbik7CiAgfSBlbHNlIGlmIChwb3NpdGl2ZVBhdHRlcm4uaW5kZXhPZignKycpID4gLTEpIHsKICAgIGFsd2F5c1Bvc2l0aXZlUGF0dGVybiA9IHBvc2l0aXZlUGF0dGVybiA9IHBvc2l0aXZlUGF0dGVybi5yZXBsYWNlKCcrJywgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ucGx1c1NpZ24pKTsKICB9IGVsc2UgewogICAgLy8gSW4gY2FzZSB7MH0gaXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcGF0dGVybgogICAgYWx3YXlzUG9zaXRpdmVQYXR0ZXJuID0gIiIgKyBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5wbHVzU2lnbikgKyBub1NpZ25QYXR0ZXJuOwogIH0KCiAgcG9zaXRpdmVQYXR0ZXJuID0gcG9zaXRpdmVQYXR0ZXJuLnJlcGxhY2UoJ3swfScsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlcikpOwogIGFsd2F5c1Bvc2l0aXZlUGF0dGVybiA9IGFsd2F5c1Bvc2l0aXZlUGF0dGVybi5yZXBsYWNlKCd7MH0nLCBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5udW1iZXIpKTsKICBuZWdhdGl2ZVBhdHRlcm4gPSBuZWdhdGl2ZVBhdHRlcm4ucmVwbGFjZSgnezB9Jywgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubnVtYmVyKSk7CiAgbm9TaWduUGF0dGVybiA9IG5vU2lnblBhdHRlcm4ucmVwbGFjZSgnezB9Jywgc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubnVtYmVyKSk7CgogIHN3aXRjaCAoc2lnbkRpc3BsYXkpIHsKICAgIGNhc2UgJ2Fsd2F5cyc6CiAgICAgIHJldHVybiB7CiAgICAgICAgcG9zaXRpdmVQYXR0ZXJuOiBhbHdheXNQb3NpdGl2ZVBhdHRlcm4sCiAgICAgICAgemVyb1BhdHRlcm46IGFsd2F5c1Bvc2l0aXZlUGF0dGVybiwKICAgICAgICBuZWdhdGl2ZVBhdHRlcm46IG5lZ2F0aXZlUGF0dGVybgogICAgICB9OwoKICAgIGNhc2UgJ2F1dG8nOgogICAgICByZXR1cm4gewogICAgICAgIHBvc2l0aXZlUGF0dGVybjogcG9zaXRpdmVQYXR0ZXJuLAogICAgICAgIHplcm9QYXR0ZXJuOiBwb3NpdGl2ZVBhdHRlcm4sCiAgICAgICAgbmVnYXRpdmVQYXR0ZXJuOiBuZWdhdGl2ZVBhdHRlcm4KICAgICAgfTsKCiAgICBjYXNlICdleGNlcHRaZXJvJzoKICAgICAgcmV0dXJuIHsKICAgICAgICBwb3NpdGl2ZVBhdHRlcm46IGFsd2F5c1Bvc2l0aXZlUGF0dGVybiwKICAgICAgICB6ZXJvUGF0dGVybjogbm9TaWduUGF0dGVybiwKICAgICAgICBuZWdhdGl2ZVBhdHRlcm46IG5lZ2F0aXZlUGF0dGVybgogICAgICB9OwoKICAgIGNhc2UgJ25ldmVyJzoKICAgICAgcmV0dXJuIHsKICAgICAgICBwb3NpdGl2ZVBhdHRlcm46IG5vU2lnblBhdHRlcm4sCiAgICAgICAgemVyb1BhdHRlcm46IG5vU2lnblBhdHRlcm4sCiAgICAgICAgbmVnYXRpdmVQYXR0ZXJuOiBub1NpZ25QYXR0ZXJuCiAgICAgIH07CiAgfQp9Cgp2YXIgTm90YXRpb25QYXR0ZXJucyA9Ci8qKiBAY2xhc3MgKi8KZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIE5vdGF0aW9uUGF0dGVybnMoKSB7fQoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICJjb21wYWN0U2hvcnQiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ub3RhdGlvbiA9ICdjb21wYWN0U2hvcnQnOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAiY29tcGFjdExvbmciLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ub3RhdGlvbiA9ICdjb21wYWN0TG9uZyc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwJywgewogICAgLy8gRGVjaW1hbEZvcm1hdE51bQogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTm90YXRpb25QYXR0ZXJucy5wcm90b3R5cGUsICcxMDAwMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAwMDAnLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybignMTAwMDAwMDAwMDAwMDAnKTsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE5vdGF0aW9uUGF0dGVybnMucHJvdG90eXBlLCAnMTAwMDAwMDAwMDAwMDAwJywgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4oJzEwMDAwMDAwMDAwMDAwMCcpOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICByZXR1cm4gTm90YXRpb25QYXR0ZXJuczsKfSgpOwoKdmFyIERlY2ltYWxQYXR0ZXJucyA9Ci8qKiBAY2xhc3MgKi8KZnVuY3Rpb24gKF9zdXBlcikgewogIF9fZXh0ZW5kcyhEZWNpbWFsUGF0dGVybnMsIF9zdXBlcik7CgogIGZ1bmN0aW9uIERlY2ltYWxQYXR0ZXJucyhudW1iZXJzLCBudW1iZXJpbmdTeXN0ZW0pIHsKICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CgogICAgX3RoaXMubnVtYmVycyA9IG51bWJlcnM7CiAgICBfdGhpcy5udW1iZXJpbmdTeXN0ZW0gPSBudW1iZXJpbmdTeXN0ZW07CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBEZWNpbWFsUGF0dGVybnMucHJvdG90eXBlLnByb2R1Y2VDb21wYWN0U2lnblBhdHRlcm4gPSBmdW5jdGlvbiAoZGVjaW1hbE51bSkgewogICAgaWYgKCF0aGlzLmNvbXBhY3RTaWduUGF0dGVybikgewogICAgICB0aGlzLmNvbXBhY3RTaWduUGF0dGVybiA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICB9CgogICAgdmFyIHNpZ25QYXR0ZXJuID0gdGhpcy5jb21wYWN0U2lnblBhdHRlcm47CgogICAgaWYgKCFzaWduUGF0dGVybltkZWNpbWFsTnVtXSkgewogICAgICBpbnZhcmlhbnQoISF0aGlzLnNpZ25EaXNwbGF5LCAnU2lnbiBEaXNwbGF5IHNob3VsZCBoYXZlIGV4aXN0ZWQnKTsKCiAgICAgIGlmICh0aGlzLm5vdGF0aW9uID09PSAnY29tcGFjdExvbmcnKSB7CiAgICAgICAgc2lnblBhdHRlcm5bZGVjaW1hbE51bV0gPSBwcm9kdWNlU2lnblBhdHRlcm4ocHJvY2Vzc0RlY2ltYWxDb21wYWN0U3ltYm9sKHRoaXMubnVtYmVycy5kZWNpbWFsW3RoaXMubnVtYmVyaW5nU3lzdGVtXS5sb25nW2RlY2ltYWxOdW1dLm90aGVyLCBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY29tcGFjdE5hbWUpLmpvaW4oJzsnKSwgdGhpcy5zaWduRGlzcGxheSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2lnblBhdHRlcm5bZGVjaW1hbE51bV0gPSBwcm9kdWNlU2lnblBhdHRlcm4ocHJvY2Vzc0RlY2ltYWxDb21wYWN0U3ltYm9sKHRoaXMubnVtYmVycy5kZWNpbWFsW3RoaXMubnVtYmVyaW5nU3lzdGVtXS5zaG9ydFtkZWNpbWFsTnVtXS5vdGhlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3RTeW1ib2wpLmpvaW4oJzsnKSwgdGhpcy5zaWduRGlzcGxheSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gc2lnblBhdHRlcm5bZGVjaW1hbE51bV07CiAgfTsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY2ltYWxQYXR0ZXJucy5wcm90b3R5cGUsICJhbHdheXMiLCB7CiAgICAvLyBTaWduIERpc3BsYXkKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2Fsd2F5cyc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjaW1hbFBhdHRlcm5zLnByb3RvdHlwZSwgImF1dG8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdhdXRvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNpbWFsUGF0dGVybnMucHJvdG90eXBlLCAibmV2ZXIiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICduZXZlcic7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjaW1hbFBhdHRlcm5zLnByb3RvdHlwZSwgImV4Y2VwdFplcm8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdleGNlcHRaZXJvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNpbWFsUGF0dGVybnMucHJvdG90eXBlLCAic3RhbmRhcmQiLCB7CiAgICAvLyBOb3RhdGlvbgogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIGludmFyaWFudCghIXRoaXMuc2lnbkRpc3BsYXksICdTaWduIERpc3BsYXkgc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogICAgICAgIHRoaXMuc2lnblBhdHRlcm4gPSBwcm9kdWNlU2lnblBhdHRlcm4oRFVNTVlfUEFUVEVSTiwgdGhpcy5zaWduRGlzcGxheSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNpZ25QYXR0ZXJuOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjaW1hbFBhdHRlcm5zLnByb3RvdHlwZSwgInNjaWVudGlmaWMiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLnNpZ25QYXR0ZXJuKSB7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5zaWduRGlzcGxheSwgJ1NpZ24gRGlzcGxheSBzaG91bGQgaGF2ZSBleGlzdGVkJyk7CiAgICAgICAgdGhpcy5zaWduUGF0dGVybiA9IHByb2R1Y2VTaWduUGF0dGVybihTQ0lFTlRJRklDX1BBVFRFUk4sIHRoaXMuc2lnbkRpc3BsYXkpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgcmV0dXJuIERlY2ltYWxQYXR0ZXJuczsKfShOb3RhdGlvblBhdHRlcm5zKTsKCnZhciBQZXJjZW50UGF0dGVybnMgPQovKiogQGNsYXNzICovCmZ1bmN0aW9uIChfc3VwZXIpIHsKICBfX2V4dGVuZHMoUGVyY2VudFBhdHRlcm5zLCBfc3VwZXIpOwoKICBmdW5jdGlvbiBQZXJjZW50UGF0dGVybnMoKSB7CiAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CiAgfQoKICBQZXJjZW50UGF0dGVybnMucHJvdG90eXBlLmdlbmVyYXRlU3RhbmRhcmRPclNjaWVudGlmaWNQYXR0ZXJuID0gZnVuY3Rpb24gKGlzU2NpZW50aWZpYykgewogICAgaW52YXJpYW50KCEhdGhpcy5zaWduRGlzcGxheSwgJ1NpZ24gRGlzcGxheSBzaG91bGQgaGF2ZSBleGlzdGVkJyk7CiAgICB2YXIgcGF0dGVybiA9IHRoaXMubnVtYmVycy5wZXJjZW50W3RoaXMubnVtYmVyaW5nU3lzdGVtXS5yZXBsYWNlKC8lL2csIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnBlcmNlbnRTaWduKSkucmVwbGFjZShOVU1CRVJfUEFUVEVSTiwgaXNTY2llbnRpZmljID8gU0NJRU5USUZJQ19QT1NJVElWRV9QQVRURVJOIDogc2VyaWFsaXplU2xvdFRva2VucyhpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4ubnVtYmVyKSk7CiAgICB2YXIgbmVnYXRpdmVQYXR0ZXJuOwoKICAgIGlmIChwYXR0ZXJuLmluZGV4T2YoJzsnKSA8IDApIHsKICAgICAgbmVnYXRpdmVQYXR0ZXJuID0gIiIgKyBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5taW51c1NpZ24pICsgcGF0dGVybjsKICAgICAgcGF0dGVybiArPSAnOycgKyBuZWdhdGl2ZVBhdHRlcm47CiAgICB9CgogICAgcmV0dXJuIHByb2R1Y2VTaWduUGF0dGVybihwYXR0ZXJuLCB0aGlzLnNpZ25EaXNwbGF5KTsKICB9OwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUGVyY2VudFBhdHRlcm5zLnByb3RvdHlwZSwgInN0YW5kYXJkIiwgewogICAgLy8gTm90YXRpb24KICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuc2lnblBhdHRlcm4pIHsKICAgICAgICB0aGlzLnNpZ25QYXR0ZXJuID0gdGhpcy5nZW5lcmF0ZVN0YW5kYXJkT3JTY2llbnRpZmljUGF0dGVybigpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcmNlbnRQYXR0ZXJucy5wcm90b3R5cGUsICJzY2llbnRpZmljIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIHRoaXMuc2lnblBhdHRlcm4gPSB0aGlzLmdlbmVyYXRlU3RhbmRhcmRPclNjaWVudGlmaWNQYXR0ZXJuKHRydWUpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgcmV0dXJuIFBlcmNlbnRQYXR0ZXJuczsKfShEZWNpbWFsUGF0dGVybnMpOwoKdmFyIFVuaXRQYXR0ZXJucyA9Ci8qKiBAY2xhc3MgKi8KZnVuY3Rpb24gKF9zdXBlcikgewogIF9fZXh0ZW5kcyhVbml0UGF0dGVybnMsIF9zdXBlcik7CgogIGZ1bmN0aW9uIFVuaXRQYXR0ZXJucyh1bml0cywgbnVtYmVycywgbnVtYmVyaW5nU3lzdGVtLCB1bml0KSB7CiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoKICAgIF90aGlzLnVuaXQgPSB1bml0OwogICAgX3RoaXMudW5pdHMgPSB1bml0czsKICAgIF90aGlzLm51bWJlcnMgPSBudW1iZXJzOwogICAgX3RoaXMubnVtYmVyaW5nU3lzdGVtID0gbnVtYmVyaW5nU3lzdGVtOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgVW5pdFBhdHRlcm5zLnByb3RvdHlwZS5nZW5lcmF0ZVN0YW5kYXJkT3JTY2llbnRpZmljUGF0dGVybiA9IGZ1bmN0aW9uIChpc1NjaWVudGlmaWMpIHsKICAgIGludmFyaWFudCghIXRoaXMuc2lnbkRpc3BsYXksICdTaWduIERpc3BsYXkgc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogICAgaW52YXJpYW50KCEhdGhpcy5wYXR0ZXJuLCAnUGF0dGVybiBtdXN0IGV4aXN0Jyk7CiAgICB2YXIgcGF0dGVybiA9IHRoaXMucGF0dGVybjsKICAgIHZhciBuZWdhdGl2ZVBhdHRlcm47CgogICAgaWYgKHBhdHRlcm4uaW5kZXhPZignOycpIDwgMCkgewogICAgICBuZWdhdGl2ZVBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoJ3swfScsICctezB9Jyk7CiAgICAgIHBhdHRlcm4gKz0gJzsnICsgbmVnYXRpdmVQYXR0ZXJuOwogICAgfQoKICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnJlcGxhY2UoVU5JVF8wX1JFR0VYLCBpc1NjaWVudGlmaWMgPyBTQ0lFTlRJRklDX1BPU0lUSVZFX1BBVFRFUk4gOiBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5udW1iZXIpKTsKICAgIHJldHVybiBwcm9kdWNlU2lnblBhdHRlcm4ocGF0dGVybiwgdGhpcy5zaWduRGlzcGxheSk7CiAgfTsKCiAgVW5pdFBhdHRlcm5zLnByb3RvdHlwZS5wcm9kdWNlQ29tcGFjdFNpZ25QYXR0ZXJuID0gZnVuY3Rpb24gKGRlY2ltYWxOdW0pIHsKICAgIGlmICghdGhpcy5jb21wYWN0U2lnblBhdHRlcm4pIHsKICAgICAgdGhpcy5jb21wYWN0U2lnblBhdHRlcm4gPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgfQoKICAgIHZhciBjb21wYWN0U2lnblBhdHRlcm5zID0gdGhpcy5jb21wYWN0U2lnblBhdHRlcm47CgogICAgaWYgKCFjb21wYWN0U2lnblBhdHRlcm5zW2RlY2ltYWxOdW1dKSB7CiAgICAgIGludmFyaWFudCghIXRoaXMucGF0dGVybiwgJ1BhdHRlcm4gc2hvdWxkIGV4aXN0Jyk7CiAgICAgIGludmFyaWFudCghIXRoaXMuc2lnbkRpc3BsYXksICdTaWduIERpc3BsYXkgc2hvdWxkIGV4aXN0Jyk7CiAgICAgIHZhciBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuOwogICAgICB2YXIgY29tcGFjdFBhdHRlcm4gPSB2b2lkIDA7CgogICAgICBpZiAodGhpcy5ub3RhdGlvbiA9PT0gJ2NvbXBhY3RTaG9ydCcpIHsKICAgICAgICBjb21wYWN0UGF0dGVybiA9IHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbCh0aGlzLm51bWJlcnMuZGVjaW1hbFt0aGlzLm51bWJlcmluZ1N5c3RlbV0uc2hvcnRbZGVjaW1hbE51bV0ub3RoZXIsIGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi5jb21wYWN0U3ltYm9sKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb21wYWN0UGF0dGVybiA9IHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbCh0aGlzLm51bWJlcnMuZGVjaW1hbFt0aGlzLm51bWJlcmluZ1N5c3RlbV0ubG9uZ1tkZWNpbWFsTnVtXS5vdGhlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3ROYW1lKTsKICAgICAgfQoKICAgICAgcGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgnezB9JywgY29tcGFjdFBhdHRlcm5bMF0pICsgJzsnICsgcGF0dGVybi5yZXBsYWNlKCd7MH0nLCBjb21wYWN0UGF0dGVyblsxXSk7CiAgICAgIGNvbXBhY3RTaWduUGF0dGVybnNbZGVjaW1hbE51bV0gPSBwcm9kdWNlU2lnblBhdHRlcm4ocGF0dGVybiwgdGhpcy5zaWduRGlzcGxheSk7CiAgICB9CgogICAgcmV0dXJuIGNvbXBhY3RTaWduUGF0dGVybnNbZGVjaW1hbE51bV07CiAgfTsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaXRQYXR0ZXJucy5wcm90b3R5cGUsICJuYXJyb3ciLCB7CiAgICAvLyBVbml0RGlzcGxheQogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5wYXR0ZXJuKSB7CiAgICAgICAgdGhpcy5wYXR0ZXJuID0gdGhpcy51bml0c1t0aGlzLnVuaXRdLm5hcnJvdy5vdGhlci5wYXR0ZXJuLnJlcGxhY2UoVU5JVF8xX1JFR0VYLCBzZXJpYWxpemVTbG90VG9rZW5zKGludGxfdXRpbHNfMS5JbnRlcm5hbFNsb3RUb2tlbi51bml0TmFycm93U3ltYm9sKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pdFBhdHRlcm5zLnByb3RvdHlwZSwgInNob3J0IiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5wYXR0ZXJuKSB7CiAgICAgICAgdGhpcy5wYXR0ZXJuID0gdGhpcy51bml0c1t0aGlzLnVuaXRdLnNob3J0Lm90aGVyLnBhdHRlcm4ucmVwbGFjZShVTklUXzFfUkVHRVgsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnVuaXRTeW1ib2wpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAibG9uZyIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMucGF0dGVybikgewogICAgICAgIHRoaXMucGF0dGVybiA9IHRoaXMudW5pdHNbdGhpcy51bml0XS5sb25nLm90aGVyLnBhdHRlcm4ucmVwbGFjZShVTklUXzFfUkVHRVgsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLnVuaXROYW1lKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5pdFBhdHRlcm5zLnByb3RvdHlwZSwgImFsd2F5cyIsIHsKICAgIC8vIFNpZ24gRGlzcGxheQogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc2lnbkRpc3BsYXkgPSAnYWx3YXlzJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAiYXV0byIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2F1dG8nOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaXRQYXR0ZXJucy5wcm90b3R5cGUsICJuZXZlciIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ25ldmVyJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAiZXhjZXB0WmVybyIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2V4Y2VwdFplcm8nOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFVuaXRQYXR0ZXJucy5wcm90b3R5cGUsICJzdGFuZGFyZCIsIHsKICAgIC8vIE5vdGF0aW9uCiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLnNpZ25QYXR0ZXJuKSB7CiAgICAgICAgdGhpcy5zaWduUGF0dGVybiA9IHRoaXMuZ2VuZXJhdGVTdGFuZGFyZE9yU2NpZW50aWZpY1BhdHRlcm4oKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuc2lnblBhdHRlcm47CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbml0UGF0dGVybnMucHJvdG90eXBlLCAic2NpZW50aWZpYyIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAoIXRoaXMuc2lnblBhdHRlcm4pIHsKICAgICAgICB0aGlzLnNpZ25QYXR0ZXJuID0gdGhpcy5nZW5lcmF0ZVN0YW5kYXJkT3JTY2llbnRpZmljUGF0dGVybih0cnVlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuc2lnblBhdHRlcm47CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIHJldHVybiBVbml0UGF0dGVybnM7Cn0oTm90YXRpb25QYXR0ZXJucyk7CgpmdW5jdGlvbiByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5Q29kZShyZXNvbHZlZEN1cnJlbmN5LCBkYXRhLCBub3RhdGlvbiwgY3VycmVuY3lTaWduLCBkZWNpbWFsTnVtKSB7CiAgdmFyIHNob3J0UGF0dGVybiA9IGRhdGEuc2hvcnQ7CiAgdmFyIGxvbmdQYXR0ZXJuID0gZGF0YS5sb25nIHx8IGRhdGEuc2hvcnQ7CiAgdmFyIHBhdHRlcm4gPSAnJzsKCiAgc3dpdGNoIChub3RhdGlvbikgewogICAgY2FzZSAnY29tcGFjdExvbmcnOgogICAgICB7CiAgICAgICAgcGF0dGVybiA9IChsb25nUGF0dGVybiA9PT0gbnVsbCB8fCBsb25nUGF0dGVybiA9PT0gdm9pZCAwID8gdm9pZCAwIDogbG9uZ1BhdHRlcm5bZGVjaW1hbE51bV0ub3RoZXIpIHx8IChzaG9ydFBhdHRlcm4gPT09IG51bGwgfHwgc2hvcnRQYXR0ZXJuID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaG9ydFBhdHRlcm5bZGVjaW1hbE51bV0ub3RoZXIpIHx8IGRhdGEuc3RhbmRhcmQ7CiAgICAgICAgcmV0dXJuIHByb2Nlc3NDdXJyZW5jeUNvbXBhY3RTeW1ib2woaW5zZXJ0QmV0d2VlbihyZXNvbHZlZEN1cnJlbmN5LCBwYXR0ZXJuLCBkYXRhLmN1cnJlbmN5U3BhY2luZy5iZWZvcmVJbnNlcnRCZXR3ZWVuKSwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3ROYW1lKTsKICAgICAgfQoKICAgIGNhc2UgJ2NvbXBhY3RTaG9ydCc6CiAgICAgIHBhdHRlcm4gPSAoc2hvcnRQYXR0ZXJuID09PSBudWxsIHx8IHNob3J0UGF0dGVybiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hvcnRQYXR0ZXJuW2RlY2ltYWxOdW1dLm90aGVyKSB8fCBkYXRhLnN0YW5kYXJkOwogICAgICByZXR1cm4gcHJvY2Vzc0N1cnJlbmN5Q29tcGFjdFN5bWJvbChpbnNlcnRCZXR3ZWVuKHJlc29sdmVkQ3VycmVuY3ksIHBhdHRlcm4sIGRhdGEuY3VycmVuY3lTcGFjaW5nLmJlZm9yZUluc2VydEJldHdlZW4pLCBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY29tcGFjdFN5bWJvbCk7CgogICAgY2FzZSAnc2NpZW50aWZpYyc6CiAgICAgIHBhdHRlcm4gPSBjdXJyZW5jeVNpZ24gPT09ICdhY2NvdW50aW5nJyA/IGRhdGEuYWNjb3VudGluZyA6IGRhdGEuc3RhbmRhcmQ7CiAgICAgIHBhdHRlcm4gPSBpbnNlcnRCZXR3ZWVuKHJlc29sdmVkQ3VycmVuY3ksIHBhdHRlcm4sIGRhdGEuY3VycmVuY3lTcGFjaW5nLmJlZm9yZUluc2VydEJldHdlZW4pOwoKICAgICAgaWYgKHBhdHRlcm4uaW5kZXhPZignOycpIDwgMCkgewogICAgICAgIHBhdHRlcm4gKz0gJzsnICsgKCItIiArIHBhdHRlcm4pOwogICAgICB9CgogICAgICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKE5VTUJFUl9QQVRURVJOLCBTQ0lFTlRJRklDX1BPU0lUSVZFX1BBVFRFUk4pOwoKICAgIGNhc2UgJ3N0YW5kYXJkJzoKICAgICAgcGF0dGVybiA9IGN1cnJlbmN5U2lnbiA9PT0gJ2FjY291bnRpbmcnID8gZGF0YS5hY2NvdW50aW5nIDogZGF0YS5zdGFuZGFyZDsKICAgICAgcGF0dGVybiA9IGluc2VydEJldHdlZW4ocmVzb2x2ZWRDdXJyZW5jeSwgcGF0dGVybiwgZGF0YS5jdXJyZW5jeVNwYWNpbmcuYmVmb3JlSW5zZXJ0QmV0d2Vlbik7CgogICAgICBpZiAocGF0dGVybi5pbmRleE9mKCc7JykgPCAwKSB7CiAgICAgICAgcGF0dGVybiArPSAnOycgKyAoIi0iICsgcGF0dGVybik7CiAgICAgIH0KCiAgICAgIHJldHVybiBwYXR0ZXJuLnJlcGxhY2UoTlVNQkVSX1BBVFRFUk4sIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLm51bWJlcikpOwogIH0KfQovKioKICogUmVzb2x2ZSBwYXR0ZXJuIGZvciBjdXJyZW5jeSBuYW1lCiAqIFRPRE86IEN1cnJlbmN5U2lnbiBkb2Vzbid0IG1hdHRlciBoZXJlIChhY2NvdW50aW5nIG9yIHN0YW5kYXJkKS4KICogV2hlbiBpdCBjb21lcyB0byB1c2luZyBgbmFtZWAsIGl0J3MgYC0xIEF1c3RyYWxpYW4gRG9sbGFyc2AKICogaW5zdGVhZCBvZiBgKDEgQXVzdHJhbGlhbiBEb2xsYXIpYAogKiBAcGFyYW0gbnVtYmVycwogKiBAcGFyYW0gbnVtYmVyaW5nU3lzdGVtCiAqIEBwYXJhbSBub3RhdGlvbgogKiBAcGFyYW0gZGVjaW1hbE51bQogKi8KCgpmdW5jdGlvbiByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5TmFtZShudW1iZXJzLCBudW1iZXJpbmdTeXN0ZW0sIG5vdGF0aW9uLCBkZWNpbWFsTnVtKSB7CiAgdmFyIHBhdHRlcm4gPSBudW1iZXJzLmN1cnJlbmN5W251bWJlcmluZ1N5c3RlbV0udW5pdFBhdHRlcm4ucmVwbGFjZShVTklUXzFfUkVHRVgsIHNlcmlhbGl6ZVNsb3RUb2tlbnMoaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5TmFtZSkpOwogIHZhciBudW1iZXJQYXR0ZXJuOyAvLyBjdXJyZW5jeVNpZ24gZG9lc24ndCBtYXR0ZXIgaGVyZSBidXQgbm90YXRpb24gZG9lcwoKICBzd2l0Y2ggKG5vdGF0aW9uKSB7CiAgICBjYXNlICdjb21wYWN0TG9uZyc6CiAgICAgIG51bWJlclBhdHRlcm4gPSBwcm9jZXNzRGVjaW1hbENvbXBhY3RTeW1ib2wobnVtYmVycy5kZWNpbWFsW251bWJlcmluZ1N5c3RlbV0ubG9uZ1tkZWNpbWFsTnVtXS5vdGhlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3ROYW1lKTsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnY29tcGFjdFNob3J0JzoKICAgICAgbnVtYmVyUGF0dGVybiA9IHByb2Nlc3NEZWNpbWFsQ29tcGFjdFN5bWJvbChudW1iZXJzLmRlY2ltYWxbbnVtYmVyaW5nU3lzdGVtXS5zaG9ydFtkZWNpbWFsTnVtXS5vdGhlciwgaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmNvbXBhY3RTeW1ib2wpOwogICAgICBicmVhazsKCiAgICBjYXNlICdzY2llbnRpZmljJzoKICAgICAgbnVtYmVyUGF0dGVybiA9IFtTQ0lFTlRJRklDX1BPU0lUSVZFX1BBVFRFUk4sIFNDSUVOVElGSUNfTkVHQVRJVkVfUEFUVEVSTl07CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ3N0YW5kYXJkJzoKICAgICAgbnVtYmVyUGF0dGVybiA9IFtEVU1NWV9QT1NJVElWRV9QQVRURVJOLCBEVU1NWV9ORUdBVElWRV9QQVRURVJOXTsKICAgICAgYnJlYWs7CiAgfQoKICByZXR1cm4gcGF0dGVybi5yZXBsYWNlKCd7MH0nLCBudW1iZXJQYXR0ZXJuWzBdKSArICc7JyArIHBhdHRlcm4ucmVwbGFjZSgnezB9JywgbnVtYmVyUGF0dGVyblsxXSk7Cn0KCnZhciBDdXJyZW5jeVBhdHRlcm5zID0KLyoqIEBjbGFzcyAqLwpmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ3VycmVuY3lQYXR0ZXJucyhjdXJyZW5jaWVzLCBudW1iZXJzLCBudW1iZXJpbmdTeXN0ZW0sIGN1cnJlbmN5LCBjdXJyZW5jeVNpZ24pIHsKICAgIHRoaXMuY3VycmVuY3kgPSBjdXJyZW5jeTsKICAgIHRoaXMuY3VycmVuY2llcyA9IGN1cnJlbmNpZXM7CiAgICB0aGlzLm51bWJlcnMgPSBudW1iZXJzOwogICAgdGhpcy5udW1iZXJpbmdTeXN0ZW0gPSBudW1iZXJpbmdTeXN0ZW07CiAgICB0aGlzLmN1cnJlbmN5U2lnbiA9IGN1cnJlbmN5U2lnbjsKICB9CgogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVBhdHRlcm5zLnByb3RvdHlwZSwgImNvZGUiLCB7CiAgICAvLyBDdXJyZW5jeURpc3BsYXkKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmN1cnJlbmN5U2xvdFRva2VuID0gaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5Q29kZTsKICAgICAgdGhpcy5yZXNvbHZlZEN1cnJlbmN5ID0gdGhpcy5jdXJyZW5jeTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVBhdHRlcm5zLnByb3RvdHlwZSwgInN5bWJvbCIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmN1cnJlbmN5U2xvdFRva2VuID0gaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5U3ltYm9sOwogICAgICB0aGlzLnJlc29sdmVkQ3VycmVuY3kgPSB0aGlzLmN1cnJlbmNpZXNbdGhpcy5jdXJyZW5jeV0uc3ltYm9sOwogICAgICByZXR1cm4gdGhpczsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1cnJlbmN5UGF0dGVybnMucHJvdG90eXBlLCAibmFycm93U3ltYm9sIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY3VycmVuY3lTbG90VG9rZW4gPSBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY3VycmVuY3lOYXJyb3dTeW1ib2w7CiAgICAgIHRoaXMucmVzb2x2ZWRDdXJyZW5jeSA9IHRoaXMuY3VycmVuY2llc1t0aGlzLmN1cnJlbmN5XS5uYXJyb3c7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lQYXR0ZXJucy5wcm90b3R5cGUsICJuYW1lIiwgewogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY3VycmVuY3lTbG90VG9rZW4gPSBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY3VycmVuY3lOYW1lOwogICAgICB0aGlzLnJlc29sdmVkQ3VycmVuY3kgPSB0aGlzLmN1cnJlbmNpZXNbdGhpcy5jdXJyZW5jeV0uZGlzcGxheU5hbWUub3RoZXI7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lQYXR0ZXJucy5wcm90b3R5cGUsICJhY2NvdW50aW5nIiwgewogICAgLy8gQ3VycmVuY3lTaWduCiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jdXJyZW5jeVNpZ24gPSAnYWNjb3VudGluZyc7CgogICAgICBpZiAoIXRoaXMuc2lnbkRpc3BsYXlQYXR0ZXJucykgewogICAgICAgIGludmFyaWFudCghIXRoaXMuY3VycmVuY3lTaWduLCAnQ3VycmVuY3kgU2lnbiBzaG91bGQgaGF2ZSBleGlzdGVkJyk7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5jdXJyZW5jeVNsb3RUb2tlbiwgJ0N1cnJlbmN5IFNsb3QgVG9rZW4gc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogICAgICAgIGludmFyaWFudCghIXRoaXMucmVzb2x2ZWRDdXJyZW5jeSwgJ0N1cnJlbmN5IHNob3VsZCBoYXZlIGJlZW4gcmVzb2x2ZWQnKTsKICAgICAgICB0aGlzLnNpZ25EaXNwbGF5UGF0dGVybnMgPSBuZXcgQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zKHRoaXMucmVzb2x2ZWRDdXJyZW5jeSwgdGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgdGhpcy5jdXJyZW5jeVNpZ24sIHRoaXMuY3VycmVuY3lTbG90VG9rZW4pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zaWduRGlzcGxheVBhdHRlcm5zOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lQYXR0ZXJucy5wcm90b3R5cGUsICJzdGFuZGFyZCIsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLmN1cnJlbmN5U2lnbiA9ICdzdGFuZGFyZCc7CgogICAgICBpZiAoIXRoaXMuc2lnbkRpc3BsYXlQYXR0ZXJucykgewogICAgICAgIGludmFyaWFudCghIXRoaXMuY3VycmVuY3lTaWduLCAnQ3VycmVuY3kgU2lnbiBzaG91bGQgaGF2ZSBleGlzdGVkJyk7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5jdXJyZW5jeVNsb3RUb2tlbiwgJ0N1cnJlbmN5IERpc3BsYXkgc2hvdWxkIGhhdmUgZXhpc3RlZCcpOwogICAgICAgIGludmFyaWFudCghIXRoaXMucmVzb2x2ZWRDdXJyZW5jeSwgJ0N1cnJlbmN5IHNob3VsZCBoYXZlIGJlZW4gcmVzb2x2ZWQnKTsKICAgICAgICB0aGlzLnNpZ25EaXNwbGF5UGF0dGVybnMgPSBuZXcgQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zKHRoaXMucmVzb2x2ZWRDdXJyZW5jeSwgdGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgdGhpcy5jdXJyZW5jeVNpZ24sIHRoaXMuY3VycmVuY3lTbG90VG9rZW4pOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zaWduRGlzcGxheVBhdHRlcm5zOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICByZXR1cm4gQ3VycmVuY3lQYXR0ZXJuczsKfSgpOwoKdmFyIEN1cnJlbmN5U2lnbkRpc3BsYXlQYXR0ZXJucyA9Ci8qKiBAY2xhc3MgKi8KZnVuY3Rpb24gKF9zdXBlcikgewogIF9fZXh0ZW5kcyhDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMsIF9zdXBlcik7CgogIGZ1bmN0aW9uIEN1cnJlbmN5U2lnbkRpc3BsYXlQYXR0ZXJucyhyZXNvbHZlZEN1cnJlbmN5LCBudW1iZXJzLCBudW1iZXJpbmdTeXN0ZW0sIGN1cnJlbmN5U2lnbiwgY3VycmVuY3lTbG90VG9rZW4pIHsKICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7CgogICAgX3RoaXMuY3VycmVuY3kgPSByZXNvbHZlZEN1cnJlbmN5OwogICAgX3RoaXMubnVtYmVycyA9IG51bWJlcnM7CiAgICBfdGhpcy5udW1iZXJpbmdTeXN0ZW0gPSBudW1iZXJpbmdTeXN0ZW07CiAgICBfdGhpcy5jdXJyZW5jeVNpZ24gPSBjdXJyZW5jeVNpZ247CiAgICBfdGhpcy5jdXJyZW5jeVNsb3RUb2tlbiA9IGN1cnJlbmN5U2xvdFRva2VuOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEN1cnJlbmN5U2lnbkRpc3BsYXlQYXR0ZXJucy5wcm90b3R5cGUsICJhbHdheXMiLCB7CiAgICAvLyBTaWduIERpc3BsYXkKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNpZ25EaXNwbGF5ID0gJ2Fsd2F5cyc7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zLnByb3RvdHlwZSwgImF1dG8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdhdXRvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMucHJvdG90eXBlLCAibmV2ZXIiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICduZXZlcic7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zLnByb3RvdHlwZSwgImV4Y2VwdFplcm8iLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaWduRGlzcGxheSA9ICdleGNlcHRaZXJvJzsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogIH0pOwogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDdXJyZW5jeVNpZ25EaXNwbGF5UGF0dGVybnMucHJvdG90eXBlLCAic3RhbmRhcmQiLCB7CiAgICAvLyBOb3RhdGlvbgogICAgLy8gU3RhbmRhcmQgY3VycmVuY3kgc2lnbgogICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcy5zaWduUGF0dGVybikgewogICAgICAgIGludmFyaWFudCghIXRoaXMuY3VycmVuY3lTaWduLCAnQ3VycmVuY3kgc2lnbiBzaG91bGQgZXhpc3QnKTsKICAgICAgICBpbnZhcmlhbnQoISF0aGlzLnNpZ25EaXNwbGF5LCAnU2lnbiBkaXNwbGF5IG11c3QgZXhpc3QnKTsKICAgICAgICB2YXIgcGF0dGVybiA9ICcnOyAvLyBuYW1lIC0+IHN0YW5kYXJkIC0+IHN0YW5kYXJkCiAgICAgICAgLy8gbmFtZSAtPiBhY2NvdW50aW5nIC0+IHN0YW5kYXJkCgogICAgICAgIGlmICh0aGlzLmN1cnJlbmN5U2xvdFRva2VuID09PSBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY3VycmVuY3lOYW1lKSB7CiAgICAgICAgICBwYXR0ZXJuID0gcmVzb2x2ZVBhdHRlcm5Gb3JDdXJyZW5jeU5hbWUodGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgJ3N0YW5kYXJkJywgJzEwMDAnIC8vIGR1bW15CiAgICAgICAgICApOwogICAgICAgIH0gLy8gY29kZSAtPiBzdGFuZGFyZCAtPiBzdGFuZGFyZAogICAgICAgIC8vIGNvZGUgLT4gYWNjb3VudGluZyAtPiBzdGFuZGFyZAogICAgICAgIC8vIHN5bWJvbCAtPiBzdGFuZGFyZCAtPiBzdGFuZGFyZAogICAgICAgIC8vIHN5bWJvbCAtPiBhY2NvdW50aW5nIC0+IHN0YW5kYXJkCiAgICAgICAgLy8gbmFycm93U3ltYm9sIC0+IHN0YW5kYXJkIC0+IHN0YW5kYXJkCiAgICAgICAgLy8gbmFycm93U3ltYm9sIC0+IGFjY291bnRpbmcgLT4gc3RhbmRhcmQKICAgICAgICBlbHNlIHsKICAgICAgICAgIHBhdHRlcm4gPSByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5Q29kZSh0aGlzLmN1cnJlbmN5LCB0aGlzLm51bWJlcnMuY3VycmVuY3lbdGhpcy5udW1iZXJpbmdTeXN0ZW1dLCAnc3RhbmRhcmQnLCB0aGlzLmN1cnJlbmN5U2lnbiwgJzEwMDAnIC8vIGR1bW15CiAgICAgICAgICApLnJlcGxhY2UoQ1VSUkVOQ1lfU1lNQk9MX1JFR0VYLCBzZXJpYWxpemVTbG90VG9rZW5zKHRoaXMuY3VycmVuY3lTbG90VG9rZW4pKTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc2lnblBhdHRlcm4gPSBwcm9kdWNlU2lnblBhdHRlcm4ocGF0dGVybiwgdGhpcy5zaWduRGlzcGxheSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLnNpZ25QYXR0ZXJuOwogICAgfSwKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUKICB9KTsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3VycmVuY3lTaWduRGlzcGxheVBhdHRlcm5zLnByb3RvdHlwZSwgInNjaWVudGlmaWMiLCB7CiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCF0aGlzLnNpZ25QYXR0ZXJuKSB7CiAgICAgICAgaW52YXJpYW50KCEhdGhpcy5jdXJyZW5jeVNpZ24sICdDdXJyZW5jeSBzaWduIHNob3VsZCBleGlzdCcpOwogICAgICAgIGludmFyaWFudCghIXRoaXMuc2lnbkRpc3BsYXksICdTaWduIGRpc3BsYXkgbXVzdCBleGlzdCcpOwogICAgICAgIHZhciBwYXR0ZXJuID0gJyc7IC8vIG5hbWUgLT4gc3RhbmRhcmQgLT4gc2NpZW50aWZpYwogICAgICAgIC8vIG5hbWUgLT4gYWNjb3VudGluZyAtPiBzY2llbnRpZmljCgogICAgICAgIGlmICh0aGlzLmN1cnJlbmN5U2xvdFRva2VuID09PSBpbnRsX3V0aWxzXzEuSW50ZXJuYWxTbG90VG9rZW4uY3VycmVuY3lOYW1lKSB7CiAgICAgICAgICBwYXR0ZXJuID0gcmVzb2x2ZVBhdHRlcm5Gb3JDdXJyZW5jeU5hbWUodGhpcy5udW1iZXJzLCB0aGlzLm51bWJlcmluZ1N5c3RlbSwgJ3NjaWVudGlmaWMnLCAnMTAwMCcgLy8gZHVtbXkKICAgICAgICAgICk7CiAgICAgICAgfSAvLyBjb2RlIC0+IHN0YW5kYXJkIC0+IHNjaWVudGlmaWMKICAgICAgICAvLyBjb2RlIC0+IGFjY291bnRpbmcgLT4gc2NpZW50aWZpYwogICAgICAgIC8vIHN5bWJvbCAtPiBzdGFuZGFyZCAtPiBzY2llbnRpZmljCiAgICAgICAgLy8gc3ltYm9sIC0+IGFjY291bnRpbmcgLT4gc2NpZW50aWZpYwogICAgICAgIC8vIG5hcnJvd1N5bWJvbCAtPiBzdGFuZGFyZCAtPiBzY2llbnRpZmljCiAgICAgICAgLy8gbmFycm93U3ltYm9sIC0+IGFjY291bnRpbmcgLT4gc2NpZW50aWZpYwogICAgICAgIGVsc2UgewogICAgICAgICAgcGF0dGVybiA9IHJlc29sdmVQYXR0ZXJuRm9yQ3VycmVuY3lDb2RlKHRoaXMuY3VycmVuY3ksIHRoaXMubnVtYmVycy5jdXJyZW5jeVt0aGlzLm51bWJlcmluZ1N5c3RlbV0sICdzY2llbnRpZmljJywgdGhpcy5jdXJyZW5jeVNpZ24sICcxMDAwJyAvLyBkdW1teQogICAgICAgICAgKS5yZXBsYWNlKENVUlJFTkNZX1NZTUJPTF9SRUdFWCwgc2VyaWFsaXplU2xvdFRva2Vucyh0aGlzLmN1cnJlbmN5U2xvdFRva2VuKSk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnNpZ25QYXR0ZXJuID0gcHJvZHVjZVNpZ25QYXR0ZXJuKHBhdHRlcm4sIHRoaXMuc2lnbkRpc3BsYXkpOwogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5zaWduUGF0dGVybjsKICAgIH0sCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlCiAgfSk7CgogIEN1cnJlbmN5U2lnbkRpc3BsYXlQYXR0ZXJucy5wcm90b3R5cGUucHJvZHVjZUNvbXBhY3RTaWduUGF0dGVybiA9IGZ1bmN0aW9uIChkZWNpbWFsTnVtKSB7CiAgICBpZiAoIXRoaXMuY29tcGFjdFNpZ25QYXR0ZXJuKSB7CiAgICAgIHRoaXMuY29tcGFjdFNpZ25QYXR0ZXJuID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIH0KCiAgICB2YXIgY29tcGFjdFNpZ25QYXR0ZXJucyA9IHRoaXMuY29tcGFjdFNpZ25QYXR0ZXJuOwoKICAgIGlmICghY29tcGFjdFNpZ25QYXR0ZXJuc1tkZWNpbWFsTnVtXSkgewogICAgICBpbnZhcmlhbnQoISF0aGlzLmN1cnJlbmN5U2lnbiwgJ0N1cnJlbmN5IHNpZ24gc2hvdWxkIGV4aXN0Jyk7CiAgICAgIGludmFyaWFudCghIXRoaXMuc2lnbkRpc3BsYXksICdTaWduIGRpc3BsYXkgbXVzdCBleGlzdCcpOwogICAgICB2YXIgcGF0dGVybiA9ICcnOyAvLyBuYW1lIC0+IHN0YW5kYXJkIC0+IGNvbXBhY3QgLT4gY29tcGFjdExvbmcKICAgICAgLy8gbmFtZSAtPiBhY2NvdW50aW5nIC0+IGNvbXBhY3QgLT4gY29tcGFjdFNob3J0CgogICAgICBpZiAodGhpcy5jdXJyZW5jeVNsb3RUb2tlbiA9PT0gaW50bF91dGlsc18xLkludGVybmFsU2xvdFRva2VuLmN1cnJlbmN5TmFtZSkgewogICAgICAgIHBhdHRlcm4gPSByZXNvbHZlUGF0dGVybkZvckN1cnJlbmN5TmFtZSh0aGlzLm51bWJlcnMsIHRoaXMubnVtYmVyaW5nU3lzdGVtLCB0aGlzLm5vdGF0aW9uLCBkZWNpbWFsTnVtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBwYXR0ZXJuID0gcmVzb2x2ZVBhdHRlcm5Gb3JDdXJyZW5jeUNvZGUodGhpcy5jdXJyZW5jeSwgdGhpcy5udW1iZXJzLmN1cnJlbmN5W3RoaXMubnVtYmVyaW5nU3lzdGVtXSwgdGhpcy5ub3RhdGlvbiwgdGhpcy5jdXJyZW5jeVNpZ24sIGRlY2ltYWxOdW0pLnJlcGxhY2UoQ1VSUkVOQ1lfU1lNQk9MX1JFR0VYLCBzZXJpYWxpemVTbG90VG9rZW5zKHRoaXMuY3VycmVuY3lTbG90VG9rZW4pKTsKICAgICAgfQoKICAgICAgY29tcGFjdFNpZ25QYXR0ZXJuc1tkZWNpbWFsTnVtXSA9IHByb2Nlc3NTaWduUGF0dGVybihwcm9kdWNlU2lnblBhdHRlcm4ocGF0dGVybiwgdGhpcy5zaWduRGlzcGxheSksIGZ1bmN0aW9uIChwYXR0ZXJuKSB7CiAgICAgICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvMCsvLCAne251bWJlcn0nKTsKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIGNvbXBhY3RTaWduUGF0dGVybnNbZGVjaW1hbE51bV07CiAgfTsKCiAgcmV0dXJuIEN1cnJlbmN5U2lnbkRpc3BsYXlQYXR0ZXJuczsKfShOb3RhdGlvblBhdHRlcm5zKTs="},{"version":3,"mappings":"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","names":["invariant","condition","message","Err","S_UNICODE_REGEX","CURRENCY_SYMBOL_REGEX","UNIT_1_REGEX","UNIT_0_REGEX","extractDecimalFormatILD","data","Object","keys","reduce","all","num","pattern","p","replace","trim","other","create","extractLDMLPluralRuleMap","m","k","rule","extractILD","units","currencies","numbers","numberingSystem","decimal","compactShort","short","compactLong","long","currency","symbols","currencySymbols","code","currencyName","displayName","currencySymbol","symbol","currencyNarrowSymbol","narrow","unitSymbols","unit","unitSymbol","unitNarrowSymbol","unitName","exports","serializeSlotTokens","tokens","Array","isArray","map","t","join","NUMBER_PATTERN","SCIENTIFIC_POSITIVE_PATTERN","intl_utils_1","number","scientificSeparator","scientificExponent","SCIENTIFIC_NEGATIVE_PATTERN","minusSign","DUMMY_POSITIVE_PATTERN","DUMMY_NEGATIVE_PATTERN","DUMMY_PATTERN","SCIENTIFIC_PATTERN","processDecimalCompactSymbol","slotToken","compactSymbol","compactUnit","negativePattern","indexOf","processCurrencyCompactSymbol","INSERT_BEFORE_PATTERN_REGEX","INSERT_AFTER_PATTERN_REGEX","shouldInsertBefore","test","shouldInsertAfter","length","insertBetween","insertBetweenChar","currencySign","_unit","_currency","Patterns","decimalPatterns","DecimalPatterns","percentPatterns","PercentPatterns","unitPatterns","UnitPatterns","currencyPatterns","CurrencyPatterns","processSignPattern","signPattern","fn","positivePattern","zeroPattern","produceSignPattern","patterns","signDisplay","noSignPattern","alwaysPositivePattern","plusSign","NotationPatterns","notation","produceCompactSignPattern","__extends","_super","_this","decimalNum","compactSignPattern","compactName","isScientific","percent","percentSign","generateStandardOrScientificPattern","compactSignPatterns","compactPattern","resolvePatternForCurrencyCode","resolvedCurrency","shortPattern","longPattern","standard","currencySpacing","beforeInsertBetween","accounting","resolvePatternForCurrencyName","unitPattern","numberPattern","currencySlotToken","currencyCode","signDisplayPatterns","CurrencySignDisplayPatterns"],"sourceRoot":"","sources":["../src/data.ts"],"sourcesContent":[null]}]}