/**
 * Key Metric globals
 */

:root {
    --viz-type-leading-base: calc(var(--viz-measure-base) * 9);
    --viz-type-size-base: calc(var(--viz-type-leading-base) * var(--viz-type-ratio-tight));
}

/**
 * Breakpoints
 */

@media only screen and (min-width: 650px) and (min-height: 250px) {
    :root {
        --viz-type-leading-base: calc(var(--viz-measure-base) * 12);
    }
}

@media only screen and (min-width: 900px) and (min-height: 400px) {
    :root {
        --viz-type-leading-base: calc(var(--viz-measure-base) * 18);
    }
}

@media only screen and (min-width: 1350px) and (min-height: 500px) {
    :root {
        --viz-type-leading-base: calc(var(--viz-measure-base) * 24);
    }
}

/**
 * Key metric
 */

.key-metric-container {
    display: flex;
    justify-content: start;
    align-items: flex-end;
    height: 100%;
    padding: var(--viz-measure-gutter);
}

.key-metric {
    flex: 1;
    width: 100%;
    padding-top: calc(var(--viz-measure-base) * 9);
    padding-bottom: calc(var(--viz-measure-base) * 9);
}

.key-metric__header {
    font-size: var(--viz-type-size-base);
    line-height: var(--viz-type-leading-base);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.key-metric__label,
.key-metric__progress {
    display: inline;
}

.key-metric__label + .key-metric__progress {
    margin-left: 0.25em;
}

.key-metric__value {
    --type-scale-multiplier: 4;
    margin-bottom: calc((var(--viz-type-leading-base) * (var(--viz-type-ratio-tight) * -0.25)) * var(--type-scale-multiplier));
    font-size: calc(var(--viz-type-size-base) * var(--type-scale-multiplier));
    line-height: calc(var(--viz-type-leading-base) * var(--type-scale-multiplier));
    font-weight: var(--viz-type-weight-regular);
    letter-spacing: -.02em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.key-metric__value--long {
    --type-scale-multiplier: 2;
}

.key-metric__header + .key-metric__value {
    margin-top: calc((var(--viz-type-leading-base) * (var(--viz-type-ratio-tight) * -0.066666)) * var(--type-scale-multiplier));
}

/**
 * Progress
 */

.progress:before {
    display: inline-block;
    vertical-align: top;
}

.progress--positive {
    color: var(--viz-color-positive);
}

.progress--negative {
    color: var(--viz-color-negative);
}

.progress--equal {
    color: var(--viz-color-neutral);
}

.progress__icon {
    margin-right: -0.25em;
}

/**
 * Icon
 */

.icon {
    position: relative;
    display: inline-block;
    vertical-align: top;
    width: 1em;
    height: 1em;
    top: calc((1 - var(--viz-type-ratio-tight)) * 0.5em);
    fill: currentColor;
}
