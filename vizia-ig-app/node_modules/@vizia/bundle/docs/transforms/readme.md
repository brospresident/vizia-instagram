# Transforms

Transforms are expressed as JavaScript modules that export an object with a `transform` property:

```JavaScript
module.exports = {
    transform: (data, pipeline) => {
        // do something with the data
        data.foo = 'bar';

        pipeline.push(data);

        // signal we're done consuming the data
        pipeline.done();
    }
}
```

note that they can also be asynchronous:

```JavaScript
module.exports = {
    transform: (data, pipeline) => {
        // do something with the data
        const myId = data.id;

        fetch(`https://example.com/myApi/getsomething?id=${myId}`)
            .then(res => res.json())
            .then(json => {
                data.foo = json.bar;
                pipeline.push(data);

                // signal we're done consuming the data
                pipeline.done();
            });
    }
}
```

errors can be published:

```JavaScript
module.exports = {
    transform: (data, pipeline) => {
        try {
            // do something
        } catch (error) {
            return pipeline.error(new Error('something went wrong'));
        }
    }
}
```

## The Pipeline object

| Name  | Type | Description |
|---|---|---|
| config | Object  | An object containing the runtime config, from Vizia admin  |
| push  | Function   | A function with a single argument, `data`, used to send data on to the next module in the App's pipeline  |
| done  | Function  | A function with no arguments, used to signal that the transform is done manipulating this chunk of data |
| error  | Function  | A function with a single argument, `error`, that signals an error occurrence that cannot be recovered from. |
